<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>32-Balkingæ¨¡å¼ï¼šå†è°ˆçº¿ç¨‹å®‰å…¨çš„å•ä¾‹æ¨¡å¼</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <style>
        html {
            color: #333;
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
            text-rendering: optimizelegibility;
            font-family: Helvetica Neue, PingFang SC, Verdana, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, sans-serif
        }

        html.borderbox *,
        html.borderbox :after,
        html.borderbox :before {
            box-sizing: border-box
        }

        article,
        aside,
        blockquote,
        body,
        button,
        code,
        dd,
        details,
        dl,
        dt,
        fieldset,
        figcaption,
        figure,
        footer,
        form,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        header,
        hr,
        input,
        legend,
        li,
        menu,
        nav,
        ol,
        p,
        pre,
        section,
        td,
        textarea,
        th,
        ul {
            margin: 0;
            padding: 0
        }

        article,
        aside,
        details,
        figcaption,
        figure,
        footer,
        header,
        menu,
        nav,
        section {
            display: block
        }

        audio,
        canvas,
        video {
            display: inline-block
        }

        body,
        button,
        input,
        select,
        textarea {
            font: 300 1em/1.8 PingFang SC, Lantinghei SC, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, Helvetica, sans-serif
        }

        button::-moz-focus-inner,
        input::-moz-focus-inner {
            padding: 0;
            border: 0
        }

        table {
            border-collapse: collapse;
            border-spacing: 0
        }

        fieldset,
        img {
            border: 0
        }

        blockquote {
            position: relative;
            color: #999;
            font-weight: 400;
            border-left: 1px solid #1abc9c;
            padding-left: 1em;
            margin: 1em 3em 1em 2em
        }

        @media only screen and (max-width: 640px) {
            blockquote {
                margin: 1em 0
            }
        }

        abbr,
        acronym {
            border-bottom: 1px dotted;
            font-variant: normal
        }

        abbr {
            cursor: help
        }

        del {
            text-decoration: line-through
        }

        address,
        caption,
        cite,
        code,
        dfn,
        em,
        th,
        var {
            font-style: normal;
            font-weight: 400
        }

        ol,
        ul {
            list-style: none
        }

        caption,
        th {
            text-align: left
        }

        q:after,
        q:before {
            content: ""
        }

        sub,
        sup {
            font-size: 75%;
            line-height: 0;
            position: relative
        }

        :root sub,
        :root sup {
            vertical-align: baseline
        }

        sup {
            top: -.5em
        }

        sub {
            bottom: -.25em
        }

        a {
            color: #1abc9c
        }

        a:hover {
            text-decoration: underline
        }

        .typo a {
            border-bottom: 1px solid #1abc9c
        }

        .typo a:hover {
            border-bottom-color: #555;
            color: #555
        }

        .typo a:hover,
        a,
        ins {
            text-decoration: none
        }

        .typo-u,
        u {
            text-decoration: underline
        }

        mark {
            background: #fffdd1;
            border-bottom: 1px solid #ffedce;
            padding: 2px;
            margin: 0 5px
        }

        code,
        pre,
        pre tt {
            font-family: Courier, Courier New, monospace
        }

        pre {
            background: hsla(0, 0%, 97%, .7);
            border: 1px solid #ddd;
            padding: 1em 1.5em;
            display: block;
            -webkit-overflow-scrolling: touch
        }

        hr {
            border: none;
            border-bottom: 1px solid #cfcfcf;
            margin-bottom: .8em;
            height: 10px
        }

        .typo-small,
        figcaption,
        small {
            font-size: .9em;
            color: #888
        }

        b,
        strong {
            font-weight: 700;
            color: #000
        }

        [draggable] {
            cursor: move
        }

        .clearfix:after,
        .clearfix:before {
            content: "";
            display: table
        }

        .clearfix:after {
            clear: both
        }

        .clearfix {
            zoom: 1
        }

        .textwrap,
        .textwrap td,
        .textwrap th {
            word-wrap: break-word;
            word-break: break-all
        }

        .textwrap-table {
            table-layout: fixed
        }

        .serif {
            font-family: Palatino, Optima, Georgia, serif
        }

        .typo-dl,
        .typo-form,
        .typo-hr,
        .typo-ol,
        .typo-p,
        .typo-pre,
        .typo-table,
        .typo-ul,
        .typo dl,
        .typo form,
        .typo hr,
        .typo ol,
        .typo p,
        .typo pre,
        .typo table,
        .typo ul,
        blockquote {
            margin-bottom: 1rem
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: PingFang SC, Helvetica Neue, Verdana, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, sans-serif;
            color: #000;
            line-height: 1.35
        }

        .typo-h1,
        .typo-h2,
        .typo-h3,
        .typo-h4,
        .typo-h5,
        .typo-h6,
        .typo h1,
        .typo h2,
        .typo h3,
        .typo h4,
        .typo h5,
        .typo h6 {
            margin-top: 1.2em;
            margin-bottom: .6em;
            line-height: 1.35
        }

        .typo-h1,
        .typo h1 {
            font-size: 2em
        }

        .typo-h2,
        .typo h2 {
            font-size: 1.8em
        }

        .typo-h3,
        .typo h3 {
            font-size: 1.6em
        }

        .typo-h4,
        .typo h4 {
            font-size: 1.4em
        }

        .typo-h5,
        .typo-h6,
        .typo h5,
        .typo h6 {
            font-size: 1.2em
        }

        .typo-ul,
        .typo ul {
            margin-left: 1.3em;
            list-style: disc
        }

        .typo-ol,
        .typo ol {
            list-style: decimal;
            margin-left: 1.9em
        }

        .typo-ol ol,
        .typo-ol ul,
        .typo-ul ol,
        .typo-ul ul,
        .typo li ol,
        .typo li ul {
            margin-bottom: .8em;
            margin-left: 2em
        }

        .typo-ol ul,
        .typo-ul ul,
        .typo li ul {
            list-style: circle
        }

        .typo-table td,
        .typo-table th,
        .typo table caption,
        .typo table td,
        .typo table th {
            border: 1px solid #ddd;
            padding: .5em 1em;
            color: #666
        }

        .typo-table th,
        .typo table th {
            background: #fbfbfb
        }

        .typo-table thead th,
        .typo table thead th {
            background: hsla(0, 0%, 95%, .7)
        }

        .typo table caption {
            border-bottom: none
        }

        .typo-input,
        .typo-textarea {
            -webkit-appearance: none;
            border-radius: 0
        }

        .typo-em,
        .typo em,
        caption,
        legend {
            color: #000;
            font-weight: inherit
        }

        .typo-em {
            position: relative
        }

        .typo-em:after {
            position: absolute;
            top: .65em;
            left: 0;
            width: 100%;
            overflow: hidden;
            white-space: nowrap;
            content: "\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB"
        }

        .typo img {
            max-width: 100%
        }

        .common-content {
            font-weight: 400;
            color: #353535;
            line-height: 1.75rem;
            white-space: normal;
            word-break: normal;
            font-size: 1rem
        }

        .common-content img {
            display: block;
            max-width: 100%;
            background-color: #eee
        }

        .common-content audio,
        .common-content video {
            width: 100%;
            background-color: #eee
        }

        .common-content center,
        .common-content font {
            margin-top: 1rem;
            display: inline-block
        }

        .common-content center {
            width: 100%
        }

        .common-content pre {
            margin-top: 1rem;
            padding-left: 0;
            padding-right: 0;
            position: relative;
            overflow: hidden
        }

        .common-content pre code {
            font-size: .8rem;
            font-family: Consolas, Liberation Mono, Menlo, monospace, Courier;
            display: block;
            width: 100%;
            box-sizing: border-box;
            padding-left: 1rem;
            padding-right: 1rem;
            overflow-x: auto
        }

        .common-content hr {
            border: none;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
            border-top: 1px solid #f5f5f5;
            height: 1px;
            background: none
        }

        .common-content b,
        .common-content h1,
        .common-content h2,
        .common-content h3,
        .common-content h4,
        .common-content h5,
        .common-content strong {
            font-weight: 700
        }

        .common-content h1,
        .common-content h2 {
            font-size: 1.125rem;
            margin-bottom: .45rem
        }

        .common-content h3,
        .common-content h4,
        .common-content h5 {
            font-size: 1rem;
            margin-bottom: .45rem
        }

        .common-content p {
            font-weight: 400;
            color: #353535;
            margin-top: .15rem
        }

        .common-content .orange {
            color: #ff5a05
        }

        .common-content .reference {
            font-size: 1rem;
            color: #888
        }

        .custom-rich-content h1 {
            margin-top: 0;
            font-weight: 400;
            font-size: 15.25px;
            border-bottom: 1px solid #eee;
            line-height: 2.8
        }

        .custom-rich-content li,
        .custom-rich-content p {
            font-size: 14px;
            color: #888;
            line-height: 1.6
        }

        table.hljs-ln {
            margin-bottom: 0;
            border-spacing: 0;
            border-collapse: collapse
        }

        table.hljs-ln,
        table.hljs-ln tbody,
        table.hljs-ln td,
        table.hljs-ln tr {
            box-sizing: border-box
        }

        table.hljs-ln td {
            padding: 0;
            border: 0
        }

        table.hljs-ln td.hljs-ln-numbers {
            min-width: 15px;
            color: rgba(27, 31, 35, .3);
            text-align: right;
            white-space: nowrap;
            cursor: pointer;
            user-select: none
        }

        table.hljs-ln td.hljs-ln-code,
        table.hljs-ln td.hljs-ln-numbers {
            font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier, monospace;
            font-size: 12px;
            line-height: 20px;
            vertical-align: top
        }

        table.hljs-ln td.hljs-ln-code {
            position: relative;
            padding-right: 10px;
            padding-left: 10px;
            overflow: visible;
            color: #24292e;
            word-wrap: normal;
            white-space: pre
        }

        video::-webkit-media-controls {
            overflow: hidden !important
        }

        video::-webkit-media-controls-enclosure {
            width: calc(100% + 32px);
            margin-left: auto
        }

        ._29HP61GA_0 {
            max-width:800px;
            margin:0 auto;
            margin-bottom: 20px;
            font-weight: 400;
            color: #353535;
            line-height: 1.76;
            white-space: normal;
            word-break: normal;
            font-size: 17px;
            -webkit-transition: background-color .3s ease;
            transition: background-color .3s ease
        }

        ._29HP61GA_0 .MathJax_Display {
            overflow: auto
        }

        ._29HP61GA_0 .poster {
            position: fixed;
            left: -10000px;
            top: -10000px;
            overflow: hidden;
            padding: 1rem;
            background: #ececec
        }

        ._29HP61GA_0 .richcontent-pre-copy {
            font-size: 13px;
            color: #888;
            position: absolute;
            right: 1em;
            top: .5em;
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none
        }

        ._29HP61GA_0 .richcontent-pre-copy .iconfont {
            font-size: 12px;
            margin-right: .2em
        }

        ._29HP61GA_0 a {
            color: #fa8919;
            border-bottom: 1px solid #fa8919
        }

        ._29HP61GA_0 img {
            display: block;
            max-width: 100%;
            position: relative;
            left: 50%;
            -webkit-transform: translateX(-50%);
            transform: translateX(-50%);
            background-color: #eee;
            vertical-align: top;
            border-radius: 0
        }

        ._29HP61GA_0 audio,
        ._29HP61GA_0 video {
            width: 100%;
            background-color: #eee
        }

        ._29HP61GA_0 pre {
            margin-top: 16px;
            padding: 34px 0 0;
            margin-bottom: 30px;
            position: relative;
            border-radius: 6px;
            background: rgba(246, 247, 251, .749);
            border: 0
        }

        ._29HP61GA_0 pre code {
            font-size: 12px;
            font-family: Consolas, Liberation Mono, Menlo, monospace, Courier;
            display: block;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
            margin-left: 16px;
            margin-right: 16px;
            overflow-x: scroll
        }

        ._29HP61GA_0 pre code:after {
            content: "";
            height: 30px;
            width: 100%;
            display: block
        }

        ._29HP61GA_0 hr {
            border: none;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
            border-top: 1px solid #f5f5f5;
            height: 1px;
            background: none
        }

        ._29HP61GA_0 h1,
        ._29HP61GA_0 h2,
        ._29HP61GA_0 h3,
        ._29HP61GA_0 h4,
        ._29HP61GA_0 h5 {
            margin-bottom: 20px;
            margin-top: 0;
            font-weight: 700
        }

        ._29HP61GA_0 b,
        ._29HP61GA_0 strong {
            font-weight: 700
        }

        ._29HP61GA_0 h1 {
            font-size: 21px
        }

        ._29HP61GA_0 h2 {
            font-size: 20px
        }

        ._29HP61GA_0 h3 {
            font-size: 19px
        }

        ._29HP61GA_0 h4 {
            font-size: 18px
        }

        ._29HP61GA_0 h5 {
            font-size: 17px
        }

        ._29HP61GA_0 center,
        ._29HP61GA_0 p {
            font-weight: 400;
            color: #353535;
            margin-top: 0;
            margin-bottom: 30px;
            word-break: break-word
        }

        ._29HP61GA_0 center {
            text-align: center
        }

        ._29HP61GA_0 blockquote {
            margin-top: 0;
            margin-bottom: 34px;
            border-left: 3px solid #e8e8e8;
            padding-left: 17px;
            color: #353535
        }

        ._29HP61GA_0 blockquote p {
            margin-top: 0;
            margin-bottom: 0
        }

        ._29HP61GA_0 ol,
        ._29HP61GA_0 ul {
            margin-bottom: 30px
        }

        ._29HP61GA_0 ol p,
        ._29HP61GA_0 ul p {
            margin-top: 0;
            margin-bottom: 0
        }

        ._29HP61GA_0 ol {
            list-style: decimal;
            margin-left: 20px
        }

        ._29HP61GA_0 ul li {
            padding-left: 17px;
            position: relative;
            margin-bottom: 10px
        }

        ._29HP61GA_0 ul li:after {
            content: "";
            height: 6px;
            width: 6px;
            border-radius: 50%;
            background: #353535;
            position: absolute;
            top: 10px;
            left: 0
        }

        ._29HP61GA_0 .orange {
            color: #fa8919
        }

        ._29HP61GA_0 .reference {
            color: #888
        }

        ._29HP61GA_0 .m-right {
            text-align: right
        }

        ._29HP61GA_0 .m-center {
            text-align: center;
            display: block
        }

        ._29HP61GA_0 .m-gray {
            color: #888
        }

        ._29HP61GA_0 .m-small {
            font-size: 15px
        }

        ._29HP61GA_0 table.hljs-ln {
            margin-bottom: 0;
            border-spacing: 0;
            border-collapse: collapse
        }

        ._29HP61GA_0 table.hljs-ln,
        ._29HP61GA_0 table.hljs-ln tbody,
        ._29HP61GA_0 table.hljs-ln td,
        ._29HP61GA_0 table.hljs-ln tr {
            -webkit-box-sizing: border-box;
            box-sizing: border-box
        }

        ._29HP61GA_0 table.hljs-ln td {
            padding: 0;
            border: 0
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-numbers {
            min-width: 15px;
            font-size: 12px;
            color: rgba(27, 31, 35, .3);
            text-align: right;
            white-space: nowrap;
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-code,
        ._29HP61GA_0 table.hljs-ln td.hljs-ln-numbers {
            font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier, monospace;
            line-height: 20px;
            vertical-align: top
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-code {
            position: relative;
            padding-right: 10px;
            padding-left: 10px;
            overflow: visible;
            font-size: 13px;
            color: #666;
            word-wrap: normal;
            white-space: pre
        }

    </style>
</head>
<body>
<div class="_29HP61GA_0">
<h1>32-Balkingæ¨¡å¼ï¼šå†è°ˆçº¿ç¨‹å®‰å…¨çš„å•ä¾‹æ¨¡å¼</h1>
<p>ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬æåˆ°å¯ä»¥ç”¨â€œå¤šçº¿ç¨‹ç‰ˆæœ¬çš„ifâ€æ¥ç†è§£Guarded Suspensionæ¨¡å¼ï¼Œä¸åŒäºå•çº¿ç¨‹ä¸­çš„ifï¼Œè¿™ä¸ªâ€œå¤šçº¿ç¨‹ç‰ˆæœ¬çš„ifâ€æ˜¯éœ€è¦ç­‰å¾…çš„ï¼Œè€Œä¸”è¿˜å¾ˆæ‰§ç€ï¼Œå¿…é¡»è¦ç­‰åˆ°æ¡ä»¶ä¸ºçœŸã€‚ä½†å¾ˆæ˜¾ç„¶è¿™ä¸ªä¸–ç•Œï¼Œä¸æ˜¯æ‰€æœ‰åœºæ™¯éƒ½éœ€è¦è¿™ä¹ˆæ‰§ç€ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬è¿˜éœ€è¦å¿«é€Ÿæ”¾å¼ƒã€‚</p><p>éœ€è¦å¿«é€Ÿæ”¾å¼ƒçš„ä¸€ä¸ªæœ€å¸¸è§çš„ä¾‹å­æ˜¯å„ç§ç¼–è¾‘å™¨æä¾›çš„è‡ªåŠ¨ä¿å­˜åŠŸèƒ½ã€‚è‡ªåŠ¨ä¿å­˜åŠŸèƒ½çš„å®ç°é€»è¾‘ä¸€èˆ¬éƒ½æ˜¯éš”ä¸€å®šæ—¶é—´è‡ªåŠ¨æ‰§è¡Œå­˜ç›˜æ“ä½œï¼Œå­˜ç›˜æ“ä½œçš„å‰ææ˜¯æ–‡ä»¶åšè¿‡ä¿®æ”¹ï¼Œå¦‚æœæ–‡ä»¶æ²¡æœ‰æ‰§è¡Œè¿‡ä¿®æ”¹æ“ä½œï¼Œå°±éœ€è¦å¿«é€Ÿæ”¾å¼ƒå­˜ç›˜æ“ä½œã€‚ä¸‹é¢çš„ç¤ºä¾‹ä»£ç å°†è‡ªåŠ¨ä¿å­˜åŠŸèƒ½ä»£ç åŒ–äº†ï¼Œå¾ˆæ˜¾ç„¶AutoSaveEditorè¿™ä¸ªç±»ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå› ä¸ºå¯¹å…±äº«å˜é‡changedçš„è¯»å†™æ²¡æœ‰ä½¿ç”¨åŒæ­¥ï¼Œé‚£å¦‚ä½•ä¿è¯AutoSaveEditorçš„çº¿ç¨‹å®‰å…¨æ€§å‘¢ï¼Ÿ</p><pre><code>class AutoSaveEditor{
  //æ–‡ä»¶æ˜¯å¦è¢«ä¿®æ”¹è¿‡
  boolean changed=false;
  //å®šæ—¶ä»»åŠ¡çº¿ç¨‹æ± 
  ScheduledExecutorService ses = 
    Executors.newSingleThreadScheduledExecutor();
  //å®šæ—¶æ‰§è¡Œè‡ªåŠ¨ä¿å­˜
  void startAutoSave(){
    ses.scheduleWithFixedDelay(()-&gt;{
      autoSave();
    }, 5, 5, TimeUnit.SECONDS);  
  }
  //è‡ªåŠ¨å­˜ç›˜æ“ä½œ
  void autoSave(){
    if (!changed) {
      return;
    }
    changed = false;
    //æ‰§è¡Œå­˜ç›˜æ“ä½œ
    //çœç•¥ä¸”å®ç°
    this.execSave();
  }
  //ç¼–è¾‘æ“ä½œ
  void edit(){
    //çœç•¥ç¼–è¾‘é€»è¾‘
    ......
    changed = true;
  }
}
</code></pre><p>è§£å†³è¿™ä¸ªé—®é¢˜ç›¸ä¿¡ä½ ä¸€å®šæ‰‹åˆ°æ“’æ¥äº†ï¼šè¯»å†™å…±äº«å˜é‡changedçš„æ–¹æ³•autoSave()å’Œedit()éƒ½åŠ äº’æ–¥é”å°±å¯ä»¥äº†ã€‚è¿™æ ·åšè™½ç„¶ç®€å•ï¼Œä½†æ˜¯æ€§èƒ½å¾ˆå·®ï¼ŒåŸå› æ˜¯é”çš„èŒƒå›´å¤ªå¤§äº†ã€‚é‚£æˆ‘ä»¬å¯ä»¥å°†é”çš„èŒƒå›´ç¼©å°ï¼Œåªåœ¨è¯»å†™å…±äº«å˜é‡changedçš„åœ°æ–¹åŠ é”ï¼Œå®ç°ä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚</p><pre><code>//è‡ªåŠ¨å­˜ç›˜æ“ä½œ
void autoSave(){
  synchronized(this){
    if (!changed) {
      return;
    }
    changed = false;
  }
  //æ‰§è¡Œå­˜ç›˜æ“ä½œ
  //çœç•¥ä¸”å®ç°
  this.execSave();
}
//ç¼–è¾‘æ“ä½œ
void edit(){
  //çœç•¥ç¼–è¾‘é€»è¾‘
  ......
  synchronized(this){
    changed = true;
  }
}  
</code></pre><p>å¦‚æœä½ æ·±å…¥åœ°åˆ†æä¸€ä¸‹è¿™ä¸ªç¤ºä¾‹ç¨‹åºï¼Œä½ ä¼šå‘ç°ï¼Œç¤ºä¾‹ä¸­çš„å…±äº«å˜é‡æ˜¯ä¸€ä¸ªçŠ¶æ€å˜é‡ï¼Œä¸šåŠ¡é€»è¾‘ä¾èµ–äºè¿™ä¸ªçŠ¶æ€å˜é‡çš„çŠ¶æ€ï¼šå½“çŠ¶æ€æ»¡è¶³æŸä¸ªæ¡ä»¶æ—¶ï¼Œæ‰§è¡ŒæŸä¸ªä¸šåŠ¡é€»è¾‘ï¼Œå…¶æœ¬è´¨å…¶å®ä¸è¿‡å°±æ˜¯ä¸€ä¸ªifè€Œå·²ï¼Œæ”¾åˆ°å¤šçº¿ç¨‹åœºæ™¯é‡Œï¼Œå°±æ˜¯ä¸€ç§â€œå¤šçº¿ç¨‹ç‰ˆæœ¬çš„ifâ€ã€‚è¿™ç§â€œå¤šçº¿ç¨‹ç‰ˆæœ¬çš„ifâ€çš„åº”ç”¨åœºæ™¯è¿˜æ˜¯å¾ˆå¤šçš„ï¼Œæ‰€ä»¥ä¹Ÿæœ‰äººæŠŠå®ƒæ€»ç»“æˆäº†ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œå«åš<strong>Balkingæ¨¡å¼</strong>ã€‚</p><!-- [[[read_end]]] --><h2>Balkingæ¨¡å¼çš„ç»å…¸å®ç°</h2><p>Balkingæ¨¡å¼æœ¬è´¨ä¸Šæ˜¯ä¸€ç§è§„èŒƒåŒ–åœ°è§£å†³â€œå¤šçº¿ç¨‹ç‰ˆæœ¬çš„ifâ€çš„æ–¹æ¡ˆï¼Œå¯¹äºä¸Šé¢è‡ªåŠ¨ä¿å­˜çš„ä¾‹å­ï¼Œä½¿ç”¨Balkingæ¨¡å¼è§„èŒƒåŒ–ä¹‹åçš„å†™æ³•å¦‚ä¸‹æ‰€ç¤ºï¼Œä½ ä¼šå‘ç°ä»…ä»…æ˜¯å°†edit()æ–¹æ³•ä¸­å¯¹å…±äº«å˜é‡changedçš„èµ‹å€¼æ“ä½œæŠ½å–åˆ°äº†change()ä¸­ï¼Œè¿™æ ·çš„å¥½å¤„æ˜¯å°†å¹¶å‘å¤„ç†é€»è¾‘å’Œä¸šåŠ¡é€»è¾‘åˆ†å¼€ã€‚</p><pre><code>boolean changed=false;
//è‡ªåŠ¨å­˜ç›˜æ“ä½œ
void autoSave(){
  synchronized(this){
    if (!changed) {
      return;
    }
    changed = false;
  }
  //æ‰§è¡Œå­˜ç›˜æ“ä½œ
  //çœç•¥ä¸”å®ç°
  this.execSave();
}
//ç¼–è¾‘æ“ä½œ
void edit(){
  //çœç•¥ç¼–è¾‘é€»è¾‘
  ......
  change();
}
//æ”¹å˜çŠ¶æ€
void change(){
  synchronized(this){
    changed = true;
  }
}
</code></pre><h2>ç”¨volatileå®ç°Balkingæ¨¡å¼</h2><p>å‰é¢æˆ‘ä»¬ç”¨synchronizedå®ç°äº†Balkingæ¨¡å¼ï¼Œè¿™ç§å®ç°æ–¹å¼æœ€ä¸ºç¨³å¦¥ï¼Œå»ºè®®ä½ å®é™…å·¥ä½œä¸­ä¹Ÿä½¿ç”¨è¿™ä¸ªæ–¹æ¡ˆã€‚ä¸è¿‡åœ¨æŸäº›ç‰¹å®šåœºæ™¯ä¸‹ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨volatileæ¥å®ç°ï¼Œä½†<strong>ä½¿ç”¨volatileçš„å‰ææ˜¯å¯¹åŸå­æ€§æ²¡æœ‰è¦æ±‚</strong>ã€‚</p><p>åœ¨<a href="https://time.geekbang.org/column/article/93154">ã€Š29 | Copy-on-Writeæ¨¡å¼ï¼šä¸æ˜¯å»¶æ—¶ç­–ç•¥çš„COWã€‹</a>ä¸­ï¼Œæœ‰ä¸€ä¸ªRPCæ¡†æ¶è·¯ç”±è¡¨çš„æ¡ˆä¾‹ï¼Œåœ¨RPCæ¡†æ¶ä¸­ï¼Œæœ¬åœ°è·¯ç”±è¡¨æ˜¯è¦å’Œæ³¨å†Œä¸­å¿ƒè¿›è¡Œä¿¡æ¯åŒæ­¥çš„ï¼Œåº”ç”¨å¯åŠ¨çš„æ—¶å€™ï¼Œä¼šå°†åº”ç”¨ä¾èµ–æœåŠ¡çš„è·¯ç”±è¡¨ä»æ³¨å†Œä¸­å¿ƒåŒæ­¥åˆ°æœ¬åœ°è·¯ç”±è¡¨ä¸­ï¼Œå¦‚æœåº”ç”¨é‡å¯çš„æ—¶å€™æ³¨å†Œä¸­å¿ƒå®•æœºï¼Œé‚£ä¹ˆä¼šå¯¼è‡´è¯¥åº”ç”¨ä¾èµ–çš„æœåŠ¡å‡ä¸å¯ç”¨ï¼Œå› ä¸ºæ‰¾ä¸åˆ°ä¾èµ–æœåŠ¡çš„è·¯ç”±è¡¨ã€‚ä¸ºäº†é˜²æ­¢è¿™ç§æç«¯æƒ…å†µå‡ºç°ï¼ŒRPCæ¡†æ¶å¯ä»¥å°†æœ¬åœ°è·¯ç”±è¡¨è‡ªåŠ¨ä¿å­˜åˆ°æœ¬åœ°æ–‡ä»¶ä¸­ï¼Œå¦‚æœé‡å¯çš„æ—¶å€™æ³¨å†Œä¸­å¿ƒå®•æœºï¼Œé‚£ä¹ˆå°±ä»æœ¬åœ°æ–‡ä»¶ä¸­æ¢å¤é‡å¯å‰çš„è·¯ç”±è¡¨ã€‚è¿™å…¶å®ä¹Ÿæ˜¯ä¸€ç§é™çº§çš„æ–¹æ¡ˆã€‚</p><p>è‡ªåŠ¨ä¿å­˜è·¯ç”±è¡¨å’Œå‰é¢ä»‹ç»çš„ç¼–è¾‘å™¨è‡ªåŠ¨ä¿å­˜åŸç†æ˜¯ä¸€æ ·çš„ï¼Œä¹Ÿå¯ä»¥ç”¨Balkingæ¨¡å¼å®ç°ï¼Œä¸è¿‡æˆ‘ä»¬è¿™é‡Œé‡‡ç”¨volatileæ¥å®ç°ï¼Œå®ç°çš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ä¹‹æ‰€ä»¥å¯ä»¥é‡‡ç”¨volatileæ¥å®ç°ï¼Œæ˜¯å› ä¸ºå¯¹å…±äº«å˜é‡changedå’Œrtçš„å†™æ“ä½œä¸å­˜åœ¨åŸå­æ€§çš„è¦æ±‚ï¼Œè€Œä¸”é‡‡ç”¨scheduleWithFixedDelay()è¿™ç§è°ƒåº¦æ–¹å¼èƒ½ä¿è¯åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡ŒautoSave()æ–¹æ³•ã€‚</p><pre><code>//è·¯ç”±è¡¨ä¿¡æ¯
public class RouterTable {
  //Key:æ¥å£å
  //Value:è·¯ç”±é›†åˆ
  ConcurrentHashMap&lt;String, CopyOnWriteArraySet&lt;Router&gt;&gt; 
    rt = new ConcurrentHashMap&lt;&gt;();    
  //è·¯ç”±è¡¨æ˜¯å¦å‘ç”Ÿå˜åŒ–
  volatile boolean changed;
  //å°†è·¯ç”±è¡¨å†™å…¥æœ¬åœ°æ–‡ä»¶çš„çº¿ç¨‹æ± 
  ScheduledExecutorService ses=
    Executors.newSingleThreadScheduledExecutor();
  //å¯åŠ¨å®šæ—¶ä»»åŠ¡
  //å°†å˜æ›´åçš„è·¯ç”±è¡¨å†™å…¥æœ¬åœ°æ–‡ä»¶
  public void startLocalSaver(){
    ses.scheduleWithFixedDelay(()-&gt;{
      autoSave();
    }, 1, 1, MINUTES);
  }
  //ä¿å­˜è·¯ç”±è¡¨åˆ°æœ¬åœ°æ–‡ä»¶
  void autoSave() {
    if (!changed) {
      return;
    }
    changed = false;
    //å°†è·¯ç”±è¡¨å†™å…¥æœ¬åœ°æ–‡ä»¶
    //çœç•¥å…¶æ–¹æ³•å®ç°
    this.save2Local();
  }
  //åˆ é™¤è·¯ç”±
  public void remove(Router router) {
    Set&lt;Router&gt; set=rt.get(router.iface);
    if (set != null) {
      set.remove(router);
      //è·¯ç”±è¡¨å·²å‘ç”Ÿå˜åŒ–
      changed = true;
    }
  }
  //å¢åŠ è·¯ç”±
  public void add(Router router) {
    Set&lt;Router&gt; set = rt.computeIfAbsent(
      route.iface, r -&gt; 
        new CopyOnWriteArraySet&lt;&gt;());
    set.add(router);
    //è·¯ç”±è¡¨å·²å‘ç”Ÿå˜åŒ–
    changed = true;
  }
}
</code></pre><p>Balkingæ¨¡å¼æœ‰ä¸€ä¸ªéå¸¸å…¸å‹çš„åº”ç”¨åœºæ™¯å°±æ˜¯å•æ¬¡åˆå§‹åŒ–ï¼Œä¸‹é¢çš„ç¤ºä¾‹ä»£ç æ˜¯å®ƒçš„å®ç°ã€‚è¿™ä¸ªå®ç°æ–¹æ¡ˆä¸­ï¼Œæˆ‘ä»¬å°†init()å£°æ˜ä¸ºä¸€ä¸ªåŒæ­¥æ–¹æ³•ï¼Œè¿™æ ·åŒä¸€ä¸ªæ—¶åˆ»å°±åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½å¤Ÿæ‰§è¡Œinit()æ–¹æ³•ï¼›init()æ–¹æ³•åœ¨ç¬¬ä¸€æ¬¡æ‰§è¡Œå®Œæ—¶ä¼šå°†initedè®¾ç½®ä¸ºtrueï¼Œè¿™æ ·åç»­æ‰§è¡Œinit()æ–¹æ³•çš„çº¿ç¨‹å°±ä¸ä¼šå†æ‰§è¡ŒdoInit()äº†ã€‚</p><pre><code>class InitTest{
  boolean inited = false;
  synchronized void init(){
    if(inited){
      return;
    }
    //çœç•¥doInitçš„å®ç°
    doInit();
    inited=true;
  }
}
</code></pre><p>çº¿ç¨‹å®‰å…¨çš„å•ä¾‹æ¨¡å¼æœ¬è´¨ä¸Šå…¶å®ä¹Ÿæ˜¯å•æ¬¡åˆå§‹åŒ–ï¼Œæ‰€ä»¥å¯ä»¥ç”¨Balkingæ¨¡å¼æ¥å®ç°çº¿ç¨‹å®‰å…¨çš„å•ä¾‹æ¨¡å¼ï¼Œä¸‹é¢çš„ç¤ºä¾‹ä»£ç æ˜¯å…¶å®ç°ã€‚è¿™ä¸ªå®ç°è™½ç„¶åŠŸèƒ½ä¸Šæ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯æ€§èƒ½å´å¾ˆå·®ï¼Œå› ä¸ºäº’æ–¥é”synchronizedå°†getInstance()æ–¹æ³•ä¸²è¡ŒåŒ–äº†ï¼Œé‚£æœ‰æ²¡æœ‰åŠæ³•å¯ä»¥ä¼˜åŒ–ä¸€ä¸‹å®ƒçš„æ€§èƒ½å‘¢ï¼Ÿ</p><pre><code>class Singleton{
  private static
    Singleton singleton;
  //æ„é€ æ–¹æ³•ç§æœ‰åŒ–  
  private Singleton(){}
  //è·å–å®ä¾‹ï¼ˆå•ä¾‹ï¼‰
  public synchronized static 
  Singleton getInstance(){
    if(singleton == null){
      singleton=new Singleton();
    }
    return singleton;
  }
}
</code></pre><p>åŠæ³•å½“ç„¶æ˜¯æœ‰çš„ï¼Œé‚£å°±æ˜¯ç»å…¸çš„<strong>åŒé‡æ£€æŸ¥</strong>ï¼ˆDouble Checkï¼‰æ–¹æ¡ˆï¼Œä¸‹é¢çš„ç¤ºä¾‹ä»£ç æ˜¯å…¶è¯¦ç»†å®ç°ã€‚åœ¨åŒé‡æ£€æŸ¥æ–¹æ¡ˆä¸­ï¼Œä¸€æ—¦Singletonå¯¹è±¡è¢«æˆåŠŸåˆ›å»ºä¹‹åï¼Œå°±ä¸ä¼šæ‰§è¡Œsynchronized(Singleton.class){}ç›¸å…³çš„ä»£ç ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ­¤æ—¶getInstance()æ–¹æ³•çš„æ‰§è¡Œè·¯å¾„æ˜¯æ— é”çš„ï¼Œä»è€Œè§£å†³äº†æ€§èƒ½é—®é¢˜ã€‚ä¸è¿‡éœ€è¦ä½ æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªæ–¹æ¡ˆä¸­ä½¿ç”¨äº†volatileæ¥ç¦æ­¢ç¼–è¯‘ä¼˜åŒ–ï¼Œå…¶åŸå› ä½ å¯ä»¥å‚è€ƒ<a href="https://time.geekbang.org/column/article/83682">ã€Š01 | å¯è§æ€§ã€åŸå­æ€§å’Œæœ‰åºæ€§é—®é¢˜ï¼šå¹¶å‘ç¼–ç¨‹Bugçš„æºå¤´ã€‹</a>ä¸­ç›¸å…³çš„å†…å®¹ã€‚è‡³äºè·å–é”åçš„äºŒæ¬¡æ£€æŸ¥ï¼Œåˆ™æ˜¯å‡ºäºå¯¹å®‰å…¨æ€§è´Ÿè´£ã€‚</p><pre><code>class Singleton{
  private static volatile 
    Singleton singleton;
  //æ„é€ æ–¹æ³•ç§æœ‰åŒ–  
  private Singleton() {}
  //è·å–å®ä¾‹ï¼ˆå•ä¾‹ï¼‰
  public static Singleton 
  getInstance() {
    //ç¬¬ä¸€æ¬¡æ£€æŸ¥
    if(singleton==null){
      synchronize{Singleton.class){
        //è·å–é”åäºŒæ¬¡æ£€æŸ¥
        if(singleton==null){
          singleton=new Singleton();
        }
      }
    }
    return singleton;
  }
}
</code></pre><h2>æ€»ç»“</h2><p>Balkingæ¨¡å¼å’ŒGuarded Suspensionæ¨¡å¼ä»å®ç°ä¸Šçœ‹ä¼¼ä¹æ²¡æœ‰å¤šå¤§çš„å…³ç³»ï¼ŒBalkingæ¨¡å¼åªéœ€è¦ç”¨äº’æ–¥é”å°±èƒ½è§£å†³ï¼Œè€ŒGuarded Suspensionæ¨¡å¼åˆ™è¦ç”¨åˆ°ç®¡ç¨‹è¿™ç§é«˜çº§çš„å¹¶å‘åŸè¯­ï¼›ä½†æ˜¯ä»åº”ç”¨çš„è§’åº¦æ¥çœ‹ï¼Œå®ƒä»¬è§£å†³çš„éƒ½æ˜¯â€œçº¿ç¨‹å®‰å…¨çš„ifâ€è¯­ä¹‰ï¼Œä¸åŒä¹‹å¤„åœ¨äºï¼ŒGuarded Suspensionæ¨¡å¼ä¼šç­‰å¾…ifæ¡ä»¶ä¸ºçœŸï¼Œè€ŒBalkingæ¨¡å¼ä¸ä¼šç­‰å¾…ã€‚</p><p>Balkingæ¨¡å¼çš„ç»å…¸å®ç°æ˜¯ä½¿ç”¨äº’æ–¥é”ï¼Œä½ å¯ä»¥ä½¿ç”¨Javaè¯­è¨€å†…ç½®synchronizedï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨SDKæä¾›Lockï¼›å¦‚æœä½ å¯¹äº’æ–¥é”çš„æ€§èƒ½ä¸æ»¡æ„ï¼Œå¯ä»¥å°è¯•é‡‡ç”¨volatileæ–¹æ¡ˆï¼Œä¸è¿‡ä½¿ç”¨volatileæ–¹æ¡ˆéœ€è¦ä½ æ›´åŠ è°¨æ…ã€‚</p><p>å½“ç„¶ä½ ä¹Ÿå¯ä»¥å°è¯•ä½¿ç”¨åŒé‡æ£€æŸ¥æ–¹æ¡ˆæ¥ä¼˜åŒ–æ€§èƒ½ï¼ŒåŒé‡æ£€æŸ¥ä¸­çš„ç¬¬ä¸€æ¬¡æ£€æŸ¥ï¼Œå®Œå…¨æ˜¯å‡ºäºå¯¹æ€§èƒ½çš„è€ƒé‡ï¼šé¿å…æ‰§è¡ŒåŠ é”æ“ä½œï¼Œå› ä¸ºåŠ é”æ“ä½œå¾ˆè€—æ—¶ã€‚è€ŒåŠ é”ä¹‹åçš„äºŒæ¬¡æ£€æŸ¥ï¼Œåˆ™æ˜¯å‡ºäºå¯¹å®‰å…¨æ€§è´Ÿè´£ã€‚åŒé‡æ£€æŸ¥æ–¹æ¡ˆåœ¨ä¼˜åŒ–åŠ é”æ€§èƒ½æ–¹é¢ç»å¸¸ç”¨åˆ°ï¼Œä¾‹å¦‚<a href="https://time.geekbang.org/column/article/88909">ã€Š17 | ReadWriteLockï¼šå¦‚ä½•å¿«é€Ÿå®ç°ä¸€ä¸ªå®Œå¤‡çš„ç¼“å­˜ï¼Ÿã€‹</a>ä¸­å®ç°ç¼“å­˜æŒ‰éœ€åŠ è½½åŠŸèƒ½æ—¶ï¼Œä¹Ÿç”¨åˆ°äº†åŒé‡æ£€æŸ¥æ–¹æ¡ˆã€‚</p><h2>è¯¾åæ€è€ƒ</h2><p>ä¸‹é¢çš„ç¤ºä¾‹ä»£ç ä¸­ï¼Œinit()æ–¹æ³•çš„æœ¬æ„æ˜¯ï¼šä»…éœ€è®¡ç®—ä¸€æ¬¡countçš„å€¼ï¼Œé‡‡ç”¨äº†Balkingæ¨¡å¼çš„volatileå®ç°æ–¹å¼ï¼Œä½ è§‰å¾—è¿™ä¸ªå®ç°æ˜¯å¦æœ‰é—®é¢˜å‘¢ï¼Ÿ</p><pre><code>class Test{
  volatile boolean inited = false;
  int count = 0;
  void init(){
    if(inited){
      return;
    }
    inited = true;
    //è®¡ç®—countçš„å€¼
    count = calc();
  }
}  
</code></pre><p>æ¬¢è¿åœ¨ç•™è¨€åŒºä¸æˆ‘åˆ†äº«ä½ çš„æƒ³æ³•ï¼Œä¹Ÿæ¬¢è¿ä½ åœ¨ç•™è¨€åŒºè®°å½•ä½ çš„æ€è€ƒè¿‡ç¨‹ã€‚æ„Ÿè°¢é˜…è¯»ï¼Œå¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œä¹Ÿæ¬¢è¿æŠŠå®ƒåˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/cf/aa/cf393cd748a4f0e6451807c4b61843aa.jpg" alt=""></p><h2>ç²¾é€‰ç•™è¨€ï¼š</h2>
        <ul>
        
<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            zero  2019-05-11 09:07:59
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            æ˜¯æœ‰é—®é¢˜çš„ï¼Œvolatileå…³é”®å­—åªèƒ½ä¿è¯å¯è§æ€§ï¼Œæ— æ³•ä¿è¯åŸå­æ€§å’Œäº’æ–¥æ€§ã€‚æ‰€ä»¥calcæ–¹æ³•æœ‰å¯èƒ½è¢«é‡å¤æ‰§è¡Œã€‚ [4èµ]
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            Corner  2019-05-11 19:34:43
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            æœ€å¥½å°±ä¸è¦å•ç‹¬ä½¿ç”¨volatileé˜²æ­¢äº§ç”Ÿçº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚å› ä¸ºå˜é‡çš„è¯»å†™æ˜¯ä¸¤ä¸ªæ“ä½œï¼Œå’Œæˆ‘ä»¬çš„ç›´è§‰ä¸ä¸€æ ·ï¼Œå¾ˆå®¹æ˜“å‡ºé—®é¢˜ã€‚è€å¸ˆçš„é‚£ä¸ªvolatileå°±æ²¡æœ‰é—®é¢˜å—ï¼Ÿå¦‚æœä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†è·¯ç”±è¡¨ï¼Œæ­¤æ—¶å®šæ—¶å™¨ä»»åŠ¡åˆ¤æ–­å…±äº«å˜é‡ä¸ºtrueï¼Œåœ¨å°†å…¶ä¿®æ”¹ä¸ºfalseä¹‹å‰ï¼Œæ­¤æ—¶å¦ä¸€ä¸ªçº¿ç¨‹åˆä¿®æ”¹äº†è·¯ç”±è¡¨ï¼Œç„¶åå®šæ—¶ä»»åŠ¡ç»§ç»­æ‰§è¡Œä¼šå°†å…¶ä¿®æ”¹ä¸ºfalseï¼Œè¿™å°±å‡ºç°é—®é¢˜äº†ã€‚æœ€åè¿˜æ˜¯è¦åœ¨autoSaveæ–¹æ³•ä¸ŠåšåŒæ­¥çš„ã€‚ [1èµ]
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            é”¦  2019-05-11 09:09:07
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            å›ç­”é—®é¢˜ï¼š<br>æœ‰é—®é¢˜ï¼Œvolatileä¸èƒ½ä¿è¯åŸå­æ€§ï¼Œé¢˜ç›®è¦æ±‚åªéœ€è®¡ç®—ä¸€æ¬¡Countï¼Œæ‰€ä»¥éœ€è¦å¯¹å…±äº«å˜é‡initedåŠ é”ä¿æŠ¤ã€‚<br><br>ç–‘é—®ï¼š<br>public class RouterTable ç±»ä¸­AutoSaveæ–¹æ³•åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨ï¼Œè€ŒRemoveå’ŒAddæ–¹æ³•ä¹Ÿæ˜¯è¦æ±‚ä½¿ç”¨æ–¹å•çº¿ç¨‹è®¿é—®å—ï¼Ÿåœ¨å®é™…å¼€å‘ä¸­ä¸€èˆ¬é‡‡ç”¨ä»€ä¹ˆæ–¹å¼è¾¾æˆè¿™ç§çº¦å®šå‘¢ï¼Ÿ [1èµ]
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            å¼ ä¸‰  2019-05-12 16:23:51
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            æœ‰é—®é¢˜ï¼Œåœ¨æ‰§è¡Œcalc()æ–¹æ³•ä¹‹å‰ï¼Œå¦‚æœæœ‰åˆ«çš„çº¿ç¨‹è¿›æ¥ï¼Œåˆ™ç›´æ¥è¿”å›count=0äº†ï¼Œä½†ç¬¬ä¸€ä¸ªçº¿ç¨‹è¿˜æ˜¯ä¼šæ‰§è¡Œcalc()æ–¹æ³•æ›´æ–°countå€¼ï¼Œå®‰å…¨æ€§é—®é¢˜ã€‚ 
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            æ™“æ°  2019-05-12 09:14:03
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            åœ¨å¾®æœåŠ¡çš„åœºæ™¯ä¸‹ï¼Œsynchornizeåº”è¯¥ä¸é€‚ç”¨äº†å§ 
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-05-13 22:25:17</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">ä¸é€‚ç”¨åˆ†å¸ƒå¼æƒ…å†µçš„å•ä¾‹</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            JackJin  2019-05-11 19:28:59
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            è€å¸ˆï¼Œvolatileåªèƒ½ä¿è¯å˜é‡çš„å¯è§æ€§ï¼Œåœ¨å¤šçº¿ç¨‹ä¸‹ï¼Œå‘ç”Ÿçº¿ç¨‹åˆ‡æ¢ä¼šéƒ½è¯»å–åˆ°å˜é‡ä¸ºfalseï¼Œåˆ™è®¡ç®—countæ–¹æ³•è¢«è°ƒç”¨å¤šæ¬¡ï¼Œå¯¹å—ï¼Ÿ 
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-05-13 22:32:33</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">ğŸ‘å¯¹çš„</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            çƒ­å°  2019-05-11 13:17:38
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            å›ç­”é—®é¢˜<br>1ï¼Œcalï¼ˆï¼‰å¯èƒ½è¢«æ‰§è¡Œå¤šæ¬¡<br>2.  ä¹Ÿå¯èƒ½calï¼ˆï¼‰æ‰§è¡Œç»“æŸå‰ï¼Œcountå°±è¢«ä½¿ç”¨<br><br>è§£å†³æ–¹æ³•<br>inited èµ‹å€¼å’Œcalï¼ˆï¼‰æ‰§è¡Œæ”¾åœ¨ä¸€ä¸ªåŒæ­¥å—ä¸­ï¼Œå¹¶å¢åŠ åŒé‡check 
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-05-13 22:33:14</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">ğŸ‘</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            åˆ˜æ™“æ—  2019-05-11 13:06:03
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            æœ‰é—®é¢˜ï¼Œå­˜åœ¨ç«æ€æ¡ä»¶ 
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-05-13 22:33:23</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">ğŸ‘</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            ack  2019-05-11 11:22:38
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            æœ‰é—®é¢˜ï¼Œinitedå…±äº«å˜é‡å’Œcalï¼ˆï¼‰å†™æ“ä½œéœ€è¦ä¿è¯åŸå­æ€§æ‰§è¡Œï¼Œä¸Šé¢çš„åˆå§‹åŒ–æ“ä½œå¯èƒ½ä¼šæ‰§è¡Œå¤šæ¬¡ 
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            å¼ ä¸‰  2019-05-11 08:12:00
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            æ‰“å¡ï¼Œæ–‡ä¸­å…³äºä½¿ç”¨volatileä¸éœ€è¦è€ƒè™‘åŸå­æ€§çš„æƒ…å†µæ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ 
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            éƒ‘æ™¨Cc  2019-05-11 02:21:49
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            ç¬¬8è¡Œ inited = trueï¼›æ”¹æˆcasæ“ä½œ<br>å¤±è´¥ç›´æ¥returnã€‚æˆåŠŸç»§ç»­æ‰§è¡Œcalæ–¹æ³• 
        </div>
        
    </div>
</li>
            </ul>
</div>
</body>
</html>