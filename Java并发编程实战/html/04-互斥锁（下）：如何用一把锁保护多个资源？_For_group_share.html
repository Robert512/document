<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>04-äº’æ–¥é”ï¼ˆä¸‹ï¼‰ï¼šå¦‚ä½•ç”¨ä¸€æŠŠé”ä¿æŠ¤å¤šä¸ªèµ„æºï¼Ÿ</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <style>
        html {
            color: #333;
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
            text-rendering: optimizelegibility;
            font-family: Helvetica Neue, PingFang SC, Verdana, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, sans-serif
        }

        html.borderbox *,
        html.borderbox :after,
        html.borderbox :before {
            box-sizing: border-box
        }

        article,
        aside,
        blockquote,
        body,
        button,
        code,
        dd,
        details,
        dl,
        dt,
        fieldset,
        figcaption,
        figure,
        footer,
        form,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        header,
        hr,
        input,
        legend,
        li,
        menu,
        nav,
        ol,
        p,
        pre,
        section,
        td,
        textarea,
        th,
        ul {
            margin: 0;
            padding: 0
        }

        article,
        aside,
        details,
        figcaption,
        figure,
        footer,
        header,
        menu,
        nav,
        section {
            display: block
        }

        audio,
        canvas,
        video {
            display: inline-block
        }

        body,
        button,
        input,
        select,
        textarea {
            font: 300 1em/1.8 PingFang SC, Lantinghei SC, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, Helvetica, sans-serif
        }

        button::-moz-focus-inner,
        input::-moz-focus-inner {
            padding: 0;
            border: 0
        }

        table {
            border-collapse: collapse;
            border-spacing: 0
        }

        fieldset,
        img {
            border: 0
        }

        blockquote {
            position: relative;
            color: #999;
            font-weight: 400;
            border-left: 1px solid #1abc9c;
            padding-left: 1em;
            margin: 1em 3em 1em 2em
        }

        @media only screen and (max-width: 640px) {
            blockquote {
                margin: 1em 0
            }
        }

        abbr,
        acronym {
            border-bottom: 1px dotted;
            font-variant: normal
        }

        abbr {
            cursor: help
        }

        del {
            text-decoration: line-through
        }

        address,
        caption,
        cite,
        code,
        dfn,
        em,
        th,
        var {
            font-style: normal;
            font-weight: 400
        }

        ol,
        ul {
            list-style: none
        }

        caption,
        th {
            text-align: left
        }

        q:after,
        q:before {
            content: ""
        }

        sub,
        sup {
            font-size: 75%;
            line-height: 0;
            position: relative
        }

        :root sub,
        :root sup {
            vertical-align: baseline
        }

        sup {
            top: -.5em
        }

        sub {
            bottom: -.25em
        }

        a {
            color: #1abc9c
        }

        a:hover {
            text-decoration: underline
        }

        .typo a {
            border-bottom: 1px solid #1abc9c
        }

        .typo a:hover {
            border-bottom-color: #555;
            color: #555
        }

        .typo a:hover,
        a,
        ins {
            text-decoration: none
        }

        .typo-u,
        u {
            text-decoration: underline
        }

        mark {
            background: #fffdd1;
            border-bottom: 1px solid #ffedce;
            padding: 2px;
            margin: 0 5px
        }

        code,
        pre,
        pre tt {
            font-family: Courier, Courier New, monospace
        }

        pre {
            background: hsla(0, 0%, 97%, .7);
            border: 1px solid #ddd;
            padding: 1em 1.5em;
            display: block;
            -webkit-overflow-scrolling: touch
        }

        hr {
            border: none;
            border-bottom: 1px solid #cfcfcf;
            margin-bottom: .8em;
            height: 10px
        }

        .typo-small,
        figcaption,
        small {
            font-size: .9em;
            color: #888
        }

        b,
        strong {
            font-weight: 700;
            color: #000
        }

        [draggable] {
            cursor: move
        }

        .clearfix:after,
        .clearfix:before {
            content: "";
            display: table
        }

        .clearfix:after {
            clear: both
        }

        .clearfix {
            zoom: 1
        }

        .textwrap,
        .textwrap td,
        .textwrap th {
            word-wrap: break-word;
            word-break: break-all
        }

        .textwrap-table {
            table-layout: fixed
        }

        .serif {
            font-family: Palatino, Optima, Georgia, serif
        }

        .typo-dl,
        .typo-form,
        .typo-hr,
        .typo-ol,
        .typo-p,
        .typo-pre,
        .typo-table,
        .typo-ul,
        .typo dl,
        .typo form,
        .typo hr,
        .typo ol,
        .typo p,
        .typo pre,
        .typo table,
        .typo ul,
        blockquote {
            margin-bottom: 1rem
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: PingFang SC, Helvetica Neue, Verdana, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, sans-serif;
            color: #000;
            line-height: 1.35
        }

        .typo-h1,
        .typo-h2,
        .typo-h3,
        .typo-h4,
        .typo-h5,
        .typo-h6,
        .typo h1,
        .typo h2,
        .typo h3,
        .typo h4,
        .typo h5,
        .typo h6 {
            margin-top: 1.2em;
            margin-bottom: .6em;
            line-height: 1.35
        }

        .typo-h1,
        .typo h1 {
            font-size: 2em
        }

        .typo-h2,
        .typo h2 {
            font-size: 1.8em
        }

        .typo-h3,
        .typo h3 {
            font-size: 1.6em
        }

        .typo-h4,
        .typo h4 {
            font-size: 1.4em
        }

        .typo-h5,
        .typo-h6,
        .typo h5,
        .typo h6 {
            font-size: 1.2em
        }

        .typo-ul,
        .typo ul {
            margin-left: 1.3em;
            list-style: disc
        }

        .typo-ol,
        .typo ol {
            list-style: decimal;
            margin-left: 1.9em
        }

        .typo-ol ol,
        .typo-ol ul,
        .typo-ul ol,
        .typo-ul ul,
        .typo li ol,
        .typo li ul {
            margin-bottom: .8em;
            margin-left: 2em
        }

        .typo-ol ul,
        .typo-ul ul,
        .typo li ul {
            list-style: circle
        }

        .typo-table td,
        .typo-table th,
        .typo table caption,
        .typo table td,
        .typo table th {
            border: 1px solid #ddd;
            padding: .5em 1em;
            color: #666
        }

        .typo-table th,
        .typo table th {
            background: #fbfbfb
        }

        .typo-table thead th,
        .typo table thead th {
            background: hsla(0, 0%, 95%, .7)
        }

        .typo table caption {
            border-bottom: none
        }

        .typo-input,
        .typo-textarea {
            -webkit-appearance: none;
            border-radius: 0
        }

        .typo-em,
        .typo em,
        caption,
        legend {
            color: #000;
            font-weight: inherit
        }

        .typo-em {
            position: relative
        }

        .typo-em:after {
            position: absolute;
            top: .65em;
            left: 0;
            width: 100%;
            overflow: hidden;
            white-space: nowrap;
            content: "\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB"
        }

        .typo img {
            max-width: 100%
        }

        .common-content {
            font-weight: 400;
            color: #353535;
            line-height: 1.75rem;
            white-space: normal;
            word-break: normal;
            font-size: 1rem
        }

        .common-content img {
            display: block;
            max-width: 100%;
            background-color: #eee
        }

        .common-content audio,
        .common-content video {
            width: 100%;
            background-color: #eee
        }

        .common-content center,
        .common-content font {
            margin-top: 1rem;
            display: inline-block
        }

        .common-content center {
            width: 100%
        }

        .common-content pre {
            margin-top: 1rem;
            padding-left: 0;
            padding-right: 0;
            position: relative;
            overflow: hidden
        }

        .common-content pre code {
            font-size: .8rem;
            font-family: Consolas, Liberation Mono, Menlo, monospace, Courier;
            display: block;
            width: 100%;
            box-sizing: border-box;
            padding-left: 1rem;
            padding-right: 1rem;
            overflow-x: auto
        }

        .common-content hr {
            border: none;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
            border-top: 1px solid #f5f5f5;
            height: 1px;
            background: none
        }

        .common-content b,
        .common-content h1,
        .common-content h2,
        .common-content h3,
        .common-content h4,
        .common-content h5,
        .common-content strong {
            font-weight: 700
        }

        .common-content h1,
        .common-content h2 {
            font-size: 1.125rem;
            margin-bottom: .45rem
        }

        .common-content h3,
        .common-content h4,
        .common-content h5 {
            font-size: 1rem;
            margin-bottom: .45rem
        }

        .common-content p {
            font-weight: 400;
            color: #353535;
            margin-top: .15rem
        }

        .common-content .orange {
            color: #ff5a05
        }

        .common-content .reference {
            font-size: 1rem;
            color: #888
        }

        .custom-rich-content h1 {
            margin-top: 0;
            font-weight: 400;
            font-size: 15.25px;
            border-bottom: 1px solid #eee;
            line-height: 2.8
        }

        .custom-rich-content li,
        .custom-rich-content p {
            font-size: 14px;
            color: #888;
            line-height: 1.6
        }

        table.hljs-ln {
            margin-bottom: 0;
            border-spacing: 0;
            border-collapse: collapse
        }

        table.hljs-ln,
        table.hljs-ln tbody,
        table.hljs-ln td,
        table.hljs-ln tr {
            box-sizing: border-box
        }

        table.hljs-ln td {
            padding: 0;
            border: 0
        }

        table.hljs-ln td.hljs-ln-numbers {
            min-width: 15px;
            color: rgba(27, 31, 35, .3);
            text-align: right;
            white-space: nowrap;
            cursor: pointer;
            user-select: none
        }

        table.hljs-ln td.hljs-ln-code,
        table.hljs-ln td.hljs-ln-numbers {
            font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier, monospace;
            font-size: 12px;
            line-height: 20px;
            vertical-align: top
        }

        table.hljs-ln td.hljs-ln-code {
            position: relative;
            padding-right: 10px;
            padding-left: 10px;
            overflow: visible;
            color: #24292e;
            word-wrap: normal;
            white-space: pre
        }

        video::-webkit-media-controls {
            overflow: hidden !important
        }

        video::-webkit-media-controls-enclosure {
            width: calc(100% + 32px);
            margin-left: auto
        }

        ._29HP61GA_0 {
            max-width:800px;
            margin:0 auto;
            margin-bottom: 20px;
            font-weight: 400;
            color: #353535;
            line-height: 1.76;
            white-space: normal;
            word-break: normal;
            font-size: 17px;
            -webkit-transition: background-color .3s ease;
            transition: background-color .3s ease
        }

        ._29HP61GA_0 .MathJax_Display {
            overflow: auto
        }

        ._29HP61GA_0 .poster {
            position: fixed;
            left: -10000px;
            top: -10000px;
            overflow: hidden;
            padding: 1rem;
            background: #ececec
        }

        ._29HP61GA_0 .richcontent-pre-copy {
            font-size: 13px;
            color: #888;
            position: absolute;
            right: 1em;
            top: .5em;
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none
        }

        ._29HP61GA_0 .richcontent-pre-copy .iconfont {
            font-size: 12px;
            margin-right: .2em
        }

        ._29HP61GA_0 a {
            color: #fa8919;
            border-bottom: 1px solid #fa8919
        }

        ._29HP61GA_0 img {
            display: block;
            max-width: 100%;
            position: relative;
            left: 50%;
            -webkit-transform: translateX(-50%);
            transform: translateX(-50%);
            background-color: #eee;
            vertical-align: top;
            border-radius: 0
        }

        ._29HP61GA_0 audio,
        ._29HP61GA_0 video {
            width: 100%;
            background-color: #eee
        }

        ._29HP61GA_0 pre {
            margin-top: 16px;
            padding: 34px 0 0;
            margin-bottom: 30px;
            position: relative;
            border-radius: 6px;
            background: rgba(246, 247, 251, .749);
            border: 0
        }

        ._29HP61GA_0 pre code {
            font-size: 12px;
            font-family: Consolas, Liberation Mono, Menlo, monospace, Courier;
            display: block;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
            margin-left: 16px;
            margin-right: 16px;
            overflow-x: scroll
        }

        ._29HP61GA_0 pre code:after {
            content: "";
            height: 30px;
            width: 100%;
            display: block
        }

        ._29HP61GA_0 hr {
            border: none;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
            border-top: 1px solid #f5f5f5;
            height: 1px;
            background: none
        }

        ._29HP61GA_0 h1,
        ._29HP61GA_0 h2,
        ._29HP61GA_0 h3,
        ._29HP61GA_0 h4,
        ._29HP61GA_0 h5 {
            margin-bottom: 20px;
            margin-top: 0;
            font-weight: 700
        }

        ._29HP61GA_0 b,
        ._29HP61GA_0 strong {
            font-weight: 700
        }

        ._29HP61GA_0 h1 {
            font-size: 21px
        }

        ._29HP61GA_0 h2 {
            font-size: 20px
        }

        ._29HP61GA_0 h3 {
            font-size: 19px
        }

        ._29HP61GA_0 h4 {
            font-size: 18px
        }

        ._29HP61GA_0 h5 {
            font-size: 17px
        }

        ._29HP61GA_0 center,
        ._29HP61GA_0 p {
            font-weight: 400;
            color: #353535;
            margin-top: 0;
            margin-bottom: 30px;
            word-break: break-word
        }

        ._29HP61GA_0 center {
            text-align: center
        }

        ._29HP61GA_0 blockquote {
            margin-top: 0;
            margin-bottom: 34px;
            border-left: 3px solid #e8e8e8;
            padding-left: 17px;
            color: #353535
        }

        ._29HP61GA_0 blockquote p {
            margin-top: 0;
            margin-bottom: 0
        }

        ._29HP61GA_0 ol,
        ._29HP61GA_0 ul {
            margin-bottom: 30px
        }

        ._29HP61GA_0 ol p,
        ._29HP61GA_0 ul p {
            margin-top: 0;
            margin-bottom: 0
        }

        ._29HP61GA_0 ol {
            list-style: decimal;
            margin-left: 20px
        }

        ._29HP61GA_0 ul li {
            padding-left: 17px;
            position: relative;
            margin-bottom: 10px
        }

        ._29HP61GA_0 ul li:after {
            content: "";
            height: 6px;
            width: 6px;
            border-radius: 50%;
            background: #353535;
            position: absolute;
            top: 10px;
            left: 0
        }

        ._29HP61GA_0 .orange {
            color: #fa8919
        }

        ._29HP61GA_0 .reference {
            color: #888
        }

        ._29HP61GA_0 .m-right {
            text-align: right
        }

        ._29HP61GA_0 .m-center {
            text-align: center;
            display: block
        }

        ._29HP61GA_0 .m-gray {
            color: #888
        }

        ._29HP61GA_0 .m-small {
            font-size: 15px
        }

        ._29HP61GA_0 table.hljs-ln {
            margin-bottom: 0;
            border-spacing: 0;
            border-collapse: collapse
        }

        ._29HP61GA_0 table.hljs-ln,
        ._29HP61GA_0 table.hljs-ln tbody,
        ._29HP61GA_0 table.hljs-ln td,
        ._29HP61GA_0 table.hljs-ln tr {
            -webkit-box-sizing: border-box;
            box-sizing: border-box
        }

        ._29HP61GA_0 table.hljs-ln td {
            padding: 0;
            border: 0
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-numbers {
            min-width: 15px;
            font-size: 12px;
            color: rgba(27, 31, 35, .3);
            text-align: right;
            white-space: nowrap;
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-code,
        ._29HP61GA_0 table.hljs-ln td.hljs-ln-numbers {
            font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier, monospace;
            line-height: 20px;
            vertical-align: top
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-code {
            position: relative;
            padding-right: 10px;
            padding-left: 10px;
            overflow: visible;
            font-size: 13px;
            color: #666;
            word-wrap: normal;
            white-space: pre
        }

    </style>
</head>
<body>
<div class="_29HP61GA_0">
<h1>04-äº’æ–¥é”ï¼ˆä¸‹ï¼‰ï¼šå¦‚ä½•ç”¨ä¸€æŠŠé”ä¿æŠ¤å¤šä¸ªèµ„æºï¼Ÿ</h1>
<p>åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬æåˆ°<strong>å—ä¿æŠ¤èµ„æºå’Œé”ä¹‹é—´åˆç†çš„å…³è”å…³ç³»åº”è¯¥æ˜¯N:1çš„å…³ç³»</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´å¯ä»¥ç”¨ä¸€æŠŠé”æ¥ä¿æŠ¤å¤šä¸ªèµ„æºï¼Œä½†æ˜¯ä¸èƒ½ç”¨å¤šæŠŠé”æ¥ä¿æŠ¤ä¸€ä¸ªèµ„æºï¼Œå¹¶ä¸”ç»“åˆæ–‡ä¸­ç¤ºä¾‹ï¼Œæˆ‘ä»¬ä¹Ÿé‡ç‚¹å¼ºè°ƒäº†â€œä¸èƒ½ç”¨å¤šæŠŠé”æ¥ä¿æŠ¤ä¸€ä¸ªèµ„æºâ€è¿™ä¸ªé—®é¢˜ã€‚è€Œè‡³äºå¦‚ä½•ä¿æŠ¤å¤šä¸ªèµ„æºï¼Œæˆ‘ä»¬ä»Šå¤©å°±æ¥èŠèŠã€‚</p><p>å½“æˆ‘ä»¬è¦ä¿æŠ¤å¤šä¸ªèµ„æºæ—¶ï¼Œé¦–å…ˆè¦åŒºåˆ†è¿™äº›èµ„æºæ˜¯å¦å­˜åœ¨å…³è”å…³ç³»ã€‚</p><h2>ä¿æŠ¤æ²¡æœ‰å…³è”å…³ç³»çš„å¤šä¸ªèµ„æº</h2><p>åœ¨ç°å®ä¸–ç•Œé‡Œï¼Œçƒåœºçš„åº§ä½å’Œç”µå½±é™¢çš„åº§ä½å°±æ˜¯æ²¡æœ‰å…³è”å…³ç³»çš„ï¼Œè¿™ç§åœºæ™¯éå¸¸å®¹æ˜“è§£å†³ï¼Œé‚£å°±æ˜¯çƒèµ›æœ‰çƒèµ›çš„é—¨ç¥¨ï¼Œç”µå½±é™¢æœ‰ç”µå½±é™¢çš„é—¨ç¥¨ï¼Œå„è‡ªç®¡ç†å„è‡ªçš„ã€‚</p><p>åŒæ ·è¿™å¯¹åº”åˆ°ç¼–ç¨‹é¢†åŸŸï¼Œä¹Ÿå¾ˆå®¹æ˜“è§£å†³ã€‚ä¾‹å¦‚ï¼Œé“¶è¡Œä¸šåŠ¡ä¸­æœ‰é’ˆå¯¹è´¦æˆ·ä½™é¢ï¼ˆä½™é¢æ˜¯ä¸€ç§èµ„æºï¼‰çš„å–æ¬¾æ“ä½œï¼Œä¹Ÿæœ‰é’ˆå¯¹è´¦æˆ·å¯†ç ï¼ˆå¯†ç ä¹Ÿæ˜¯ä¸€ç§èµ„æºï¼‰çš„æ›´æ”¹æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºè´¦æˆ·ä½™é¢å’Œè´¦æˆ·å¯†ç åˆ†é…ä¸åŒçš„é”æ¥è§£å†³å¹¶å‘é—®é¢˜ï¼Œè¿™ä¸ªè¿˜æ˜¯å¾ˆç®€å•çš„ã€‚</p><p>ç›¸å…³çš„ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼Œè´¦æˆ·ç±»Accountæœ‰ä¸¤ä¸ªæˆå‘˜å˜é‡ï¼Œåˆ†åˆ«æ˜¯è´¦æˆ·ä½™é¢balanceå’Œè´¦æˆ·å¯†ç passwordã€‚å–æ¬¾withdraw()å’ŒæŸ¥çœ‹ä½™é¢getBalance()æ“ä½œä¼šè®¿é—®è´¦æˆ·ä½™é¢balanceï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªfinalå¯¹è±¡balLockä½œä¸ºé”ï¼ˆç±»æ¯”çƒèµ›é—¨ç¥¨ï¼‰ï¼›è€Œæ›´æ”¹å¯†ç updatePassword()å’ŒæŸ¥çœ‹å¯†ç getPassword()æ“ä½œä¼šä¿®æ”¹è´¦æˆ·å¯†ç passwordï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªfinalå¯¹è±¡pwLockä½œä¸ºé”ï¼ˆç±»æ¯”ç”µå½±ç¥¨ï¼‰ã€‚ä¸åŒçš„èµ„æºç”¨ä¸åŒçš„é”ä¿æŠ¤ï¼Œå„è‡ªç®¡å„è‡ªçš„ï¼Œå¾ˆç®€å•ã€‚</p><!-- [[[read_end]]] --><pre><code>class Account {
  // é”ï¼šä¿æŠ¤è´¦æˆ·ä½™é¢
  private final Object balLock
    = new Object();
  // è´¦æˆ·ä½™é¢  
  private Integer balance;
  // é”ï¼šä¿æŠ¤è´¦æˆ·å¯†ç 
  private final Object pwLock
    = new Object();
  // è´¦æˆ·å¯†ç 
  private String password;

  // å–æ¬¾
  void withdraw(Integer amt) {
    synchronized(balLock) {
      if (this.balance &gt; amt){
        this.balance -= amt;
      }
    }
  } 
  // æŸ¥çœ‹ä½™é¢
  Integer getBalance() {
    synchronized(balLock) {
      return balance;
    }
  }

  // æ›´æ”¹å¯†ç 
  void updatePassword(String pw){
    synchronized(pwLock) {
      this.password = pw;
    }
  } 
  // æŸ¥çœ‹å¯†ç 
  String getPassword() {
    synchronized(pwLock) {
      return password;
    }
  }
}
</code></pre><p>å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨ä¸€æŠŠäº’æ–¥é”æ¥ä¿æŠ¤å¤šä¸ªèµ„æºï¼Œä¾‹å¦‚æˆ‘ä»¬å¯ä»¥ç”¨thisè¿™ä¸€æŠŠé”æ¥ç®¡ç†è´¦æˆ·ç±»é‡Œæ‰€æœ‰çš„èµ„æºï¼šè´¦æˆ·ä½™é¢å’Œç”¨æˆ·å¯†ç ã€‚å…·ä½“å®ç°å¾ˆç®€å•ï¼Œç¤ºä¾‹ç¨‹åºä¸­æ‰€æœ‰çš„æ–¹æ³•éƒ½å¢åŠ åŒæ­¥å…³é”®å­—synchronizedå°±å¯ä»¥äº†ï¼Œè¿™é‡Œæˆ‘å°±ä¸ä¸€ä¸€å±•ç¤ºäº†ã€‚</p><p>ä½†æ˜¯ç”¨ä¸€æŠŠé”æœ‰ä¸ªé—®é¢˜ï¼Œå°±æ˜¯æ€§èƒ½å¤ªå·®ï¼Œä¼šå¯¼è‡´å–æ¬¾ã€æŸ¥çœ‹ä½™é¢ã€ä¿®æ”¹å¯†ç ã€æŸ¥çœ‹å¯†ç è¿™å››ä¸ªæ“ä½œéƒ½æ˜¯ä¸²è¡Œçš„ã€‚è€Œæˆ‘ä»¬ç”¨ä¸¤æŠŠé”ï¼Œå–æ¬¾å’Œä¿®æ”¹å¯†ç æ˜¯å¯ä»¥å¹¶è¡Œçš„ã€‚<strong>ç”¨ä¸åŒçš„é”å¯¹å—ä¿æŠ¤èµ„æºè¿›è¡Œç²¾ç»†åŒ–ç®¡ç†ï¼Œèƒ½å¤Ÿæå‡æ€§èƒ½</strong>ã€‚è¿™ç§é”è¿˜æœ‰ä¸ªåå­—ï¼Œå«<strong>ç»†ç²’åº¦é”</strong>ã€‚</p><h2>ä¿æŠ¤æœ‰å…³è”å…³ç³»çš„å¤šä¸ªèµ„æº</h2><p>å¦‚æœå¤šä¸ªèµ„æºæ˜¯æœ‰å…³è”å…³ç³»çš„ï¼Œé‚£è¿™ä¸ªé—®é¢˜å°±æœ‰ç‚¹å¤æ‚äº†ã€‚ä¾‹å¦‚é“¶è¡Œä¸šåŠ¡é‡Œé¢çš„è½¬è´¦æ“ä½œï¼Œè´¦æˆ·Aå‡å°‘100å…ƒï¼Œè´¦æˆ·Bå¢åŠ 100å…ƒã€‚è¿™ä¸¤ä¸ªè´¦æˆ·å°±æ˜¯æœ‰å…³è”å…³ç³»çš„ã€‚é‚£å¯¹äºåƒè½¬è´¦è¿™ç§æœ‰å…³è”å…³ç³»çš„æ“ä½œï¼Œæˆ‘ä»¬åº”è¯¥æ€ä¹ˆå»è§£å†³å‘¢ï¼Ÿå…ˆæŠŠè¿™ä¸ªé—®é¢˜ä»£ç åŒ–ã€‚æˆ‘ä»¬å£°æ˜äº†ä¸ªè´¦æˆ·ç±»ï¼šAccountï¼Œè¯¥ç±»æœ‰ä¸€ä¸ªæˆå‘˜å˜é‡ä½™é¢ï¼šbalanceï¼Œè¿˜æœ‰ä¸€ä¸ªç”¨äºè½¬è´¦çš„æ–¹æ³•ï¼štransfer()ï¼Œç„¶åæ€ä¹ˆä¿è¯è½¬è´¦æ“ä½œtransfer()æ²¡æœ‰å¹¶å‘é—®é¢˜å‘¢ï¼Ÿ</p><pre><code>class Account {
  private int balance;
  // è½¬è´¦
  void transfer(
      Account target, int amt){
    if (this.balance &gt; amt) {
      this.balance -= amt;
      target.balance += amt;
    }
  } 
}
</code></pre><p>ç›¸ä¿¡ä½ çš„ç›´è§‰ä¼šå‘Šè¯‰ä½ è¿™æ ·çš„è§£å†³æ–¹æ¡ˆï¼šç”¨æˆ·synchronizedå…³é”®å­—ä¿®é¥°ä¸€ä¸‹transfer()æ–¹æ³•å°±å¯ä»¥äº†ï¼Œäºæ˜¯ä½ å¾ˆå¿«å°±å®Œæˆäº†ç›¸å…³çš„ä»£ç ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚</p><pre><code>class Account {
  private int balance;
  // è½¬è´¦
  synchronized void transfer(
      Account target, int amt){
    if (this.balance &gt; amt) {
      this.balance -= amt;
      target.balance += amt;
    }
  } 
}
</code></pre><p>åœ¨è¿™æ®µä»£ç ä¸­ï¼Œä¸´ç•ŒåŒºå†…æœ‰ä¸¤ä¸ªèµ„æºï¼Œåˆ†åˆ«æ˜¯è½¬å‡ºè´¦æˆ·çš„ä½™é¢this.balanceå’Œè½¬å…¥è´¦æˆ·çš„ä½™é¢target.balanceï¼Œå¹¶ä¸”ç”¨çš„æ˜¯ä¸€æŠŠé”thisï¼Œç¬¦åˆæˆ‘ä»¬å‰é¢æåˆ°çš„ï¼Œå¤šä¸ªèµ„æºå¯ä»¥ç”¨ä¸€æŠŠé”æ¥ä¿æŠ¤ï¼Œè¿™çœ‹ä¸Šå»å®Œå…¨æ­£ç¡®å‘€ã€‚çœŸçš„æ˜¯è¿™æ ·å—ï¼Ÿå¯æƒœï¼Œè¿™ä¸ªæ–¹æ¡ˆä»…ä»…æ˜¯çœ‹ä¼¼æ­£ç¡®ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><p>é—®é¢˜å°±å‡ºåœ¨thisè¿™æŠŠé”ä¸Šï¼Œthisè¿™æŠŠé”å¯ä»¥ä¿æŠ¤è‡ªå·±çš„ä½™é¢this.balanceï¼Œå´ä¿æŠ¤ä¸äº†åˆ«äººçš„ä½™é¢target.balanceï¼Œå°±åƒä½ ä¸èƒ½ç”¨è‡ªå®¶çš„é”æ¥ä¿æŠ¤åˆ«äººå®¶çš„èµ„äº§ï¼Œä¹Ÿä¸èƒ½ç”¨è‡ªå·±çš„ç¥¨æ¥ä¿æŠ¤åˆ«äººçš„åº§ä½ä¸€æ ·ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/1b/d8/1ba92a09d1a55a6a1636318f30c155d8.png" alt=""></p><center><span class="reference">ç”¨é”thisä¿æŠ¤this.balanceå’Œtarget.balanceçš„ç¤ºæ„å›¾</span></center><p>ä¸‹é¢æˆ‘ä»¬å…·ä½“åˆ†æä¸€ä¸‹ï¼Œå‡è®¾æœ‰Aã€Bã€Cä¸‰ä¸ªè´¦æˆ·ï¼Œä½™é¢éƒ½æ˜¯200å…ƒï¼Œæˆ‘ä»¬ç”¨ä¸¤ä¸ªçº¿ç¨‹åˆ†åˆ«æ‰§è¡Œä¸¤ä¸ªè½¬è´¦æ“ä½œï¼šè´¦æˆ·Aè½¬ç»™è´¦æˆ·B 100 å…ƒï¼Œè´¦æˆ·Bè½¬ç»™è´¦æˆ·C 100 å…ƒï¼Œæœ€åæˆ‘ä»¬æœŸæœ›çš„ç»“æœåº”è¯¥æ˜¯è´¦æˆ·Açš„ä½™é¢æ˜¯100å…ƒï¼Œè´¦æˆ·Bçš„ä½™é¢æ˜¯200å…ƒï¼Œ è´¦æˆ·Cçš„ä½™é¢æ˜¯300å…ƒã€‚</p><p>æˆ‘ä»¬å‡è®¾çº¿ç¨‹1æ‰§è¡Œè´¦æˆ·Aè½¬è´¦æˆ·Bçš„æ“ä½œï¼Œçº¿ç¨‹2æ‰§è¡Œè´¦æˆ·Bè½¬è´¦æˆ·Cçš„æ“ä½œã€‚è¿™ä¸¤ä¸ªçº¿ç¨‹åˆ†åˆ«åœ¨ä¸¤é¢—CPUä¸ŠåŒæ—¶æ‰§è¡Œï¼Œé‚£å®ƒä»¬æ˜¯äº’æ–¥çš„å—ï¼Ÿæˆ‘ä»¬æœŸæœ›æ˜¯ï¼Œä½†å®é™…ä¸Šå¹¶ä¸æ˜¯ã€‚å› ä¸ºçº¿ç¨‹1é”å®šçš„æ˜¯è´¦æˆ·Açš„å®ä¾‹ï¼ˆA.thisï¼‰ï¼Œè€Œçº¿ç¨‹2é”å®šçš„æ˜¯è´¦æˆ·Bçš„å®ä¾‹ï¼ˆB.thisï¼‰ï¼Œæ‰€ä»¥è¿™ä¸¤ä¸ªçº¿ç¨‹å¯ä»¥åŒæ—¶è¿›å…¥ä¸´ç•ŒåŒºtransfer()ã€‚åŒæ—¶è¿›å…¥ä¸´ç•ŒåŒºçš„ç»“æœæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿçº¿ç¨‹1å’Œçº¿ç¨‹2éƒ½ä¼šè¯»åˆ°è´¦æˆ·Bçš„ä½™é¢ä¸º200ï¼Œå¯¼è‡´æœ€ç»ˆè´¦æˆ·Bçš„ä½™é¢å¯èƒ½æ˜¯300ï¼ˆçº¿ç¨‹1åäºçº¿ç¨‹2å†™B.balanceï¼Œçº¿ç¨‹2å†™çš„B.balanceå€¼è¢«çº¿ç¨‹1è¦†ç›–ï¼‰ï¼Œå¯èƒ½æ˜¯100ï¼ˆçº¿ç¨‹1å…ˆäºçº¿ç¨‹2å†™B.balanceï¼Œçº¿ç¨‹1å†™çš„B.balanceå€¼è¢«çº¿ç¨‹2è¦†ç›–ï¼‰ï¼Œå°±æ˜¯ä¸å¯èƒ½æ˜¯200ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/a4/27/a46b4a1e73671d6e6f1bdb26f6c87627.png" alt=""></p><center><span class="reference">å¹¶å‘è½¬è´¦ç¤ºæ„å›¾</span></center><h2>ä½¿ç”¨é”çš„æ­£ç¡®å§¿åŠ¿</h2><p>åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬æåˆ°ç”¨åŒä¸€æŠŠé”æ¥ä¿æŠ¤å¤šä¸ªèµ„æºï¼Œä¹Ÿå°±æ˜¯ç°å®ä¸–ç•Œçš„â€œåŒ…åœºâ€ï¼Œé‚£åœ¨ç¼–ç¨‹é¢†åŸŸåº”è¯¥æ€ä¹ˆâ€œåŒ…åœºâ€å‘¢ï¼Ÿå¾ˆç®€å•ï¼Œåªè¦æˆ‘ä»¬çš„<strong>é”èƒ½è¦†ç›–æ‰€æœ‰å—ä¿æŠ¤èµ„æº</strong>å°±å¯ä»¥äº†ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œthisæ˜¯å¯¹è±¡çº§åˆ«çš„é”ï¼Œæ‰€ä»¥Aå¯¹è±¡å’ŒBå¯¹è±¡éƒ½æœ‰è‡ªå·±çš„é”ï¼Œå¦‚ä½•è®©Aå¯¹è±¡å’ŒBå¯¹è±¡å…±äº«ä¸€æŠŠé”å‘¢ï¼Ÿ</p><p>ç¨å¾®å¼€åŠ¨è„‘ç­‹ï¼Œä½ ä¼šå‘ç°å…¶å®æ–¹æ¡ˆè¿˜æŒºå¤šçš„ï¼Œæ¯”å¦‚å¯ä»¥è®©æ‰€æœ‰å¯¹è±¡éƒ½æŒæœ‰ä¸€ä¸ªå”¯ä¸€æ€§çš„å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡åœ¨åˆ›å»ºAccountæ—¶ä¼ å…¥ã€‚æ–¹æ¡ˆæœ‰äº†ï¼Œå®Œæˆä»£ç å°±ç®€å•äº†ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼Œæˆ‘ä»¬æŠŠAccounté»˜è®¤æ„é€ å‡½æ•°å˜ä¸ºprivateï¼ŒåŒæ—¶å¢åŠ ä¸€ä¸ªå¸¦Object lockå‚æ•°çš„æ„é€ å‡½æ•°ï¼Œåˆ›å»ºAccountå¯¹è±¡æ—¶ï¼Œä¼ å…¥ç›¸åŒçš„lockï¼Œè¿™æ ·æ‰€æœ‰çš„Accountå¯¹è±¡éƒ½ä¼šå…±äº«è¿™ä¸ªlockäº†ã€‚</p><pre><code>class Account {
  private Object lockï¼›
  private int balance;
  private Account();
  // åˆ›å»ºAccountæ—¶ä¼ å…¥åŒä¸€ä¸ªlockå¯¹è±¡
  public Account(Object lock) {
    this.lock = lock;
  } 
  // è½¬è´¦
  void transfer(Account target, int amt){
    // æ­¤å¤„æ£€æŸ¥æ‰€æœ‰å¯¹è±¡å…±äº«çš„é”
    synchronized(lock) {
      if (this.balance &gt; amt) {
        this.balance -= amt;
        target.balance += amt;
      }
    }
  }
}
</code></pre><p>è¿™ä¸ªåŠæ³•ç¡®å®èƒ½è§£å†³é—®é¢˜ï¼Œä½†æ˜¯æœ‰ç‚¹å°ç‘•ç–µï¼Œå®ƒè¦æ±‚åœ¨åˆ›å»ºAccountå¯¹è±¡çš„æ—¶å€™å¿…é¡»ä¼ å…¥åŒä¸€ä¸ªå¯¹è±¡ï¼Œå¦‚æœåˆ›å»ºAccountå¯¹è±¡æ—¶ï¼Œä¼ å…¥çš„lockä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œé‚£å¯å°±æƒ¨äº†ï¼Œä¼šå‡ºç°é”è‡ªå®¶é—¨æ¥ä¿æŠ¤ä»–å®¶èµ„äº§çš„è’å”äº‹ã€‚åœ¨çœŸå®çš„é¡¹ç›®åœºæ™¯ä¸­ï¼Œåˆ›å»ºAccountå¯¹è±¡çš„ä»£ç å¾ˆå¯èƒ½åˆ†æ•£åœ¨å¤šä¸ªå·¥ç¨‹ä¸­ï¼Œä¼ å…¥å…±äº«çš„lockçœŸçš„å¾ˆéš¾ã€‚</p><p>æ‰€ä»¥ï¼Œä¸Šé¢çš„æ–¹æ¡ˆç¼ºä¹å®è·µçš„å¯è¡Œæ€§ï¼Œæˆ‘ä»¬éœ€è¦æ›´å¥½çš„æ–¹æ¡ˆã€‚è¿˜çœŸæœ‰ï¼Œå°±æ˜¯<strong>ç”¨Account.classä½œä¸ºå…±äº«çš„é”</strong>ã€‚Account.classæ˜¯æ‰€æœ‰Accountå¯¹è±¡å…±äº«çš„ï¼Œè€Œä¸”è¿™ä¸ªå¯¹è±¡æ˜¯Javaè™šæ‹Ÿæœºåœ¨åŠ è½½Accountç±»çš„æ—¶å€™åˆ›å»ºçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸ç”¨æ‹…å¿ƒå®ƒçš„å”¯ä¸€æ€§ã€‚ä½¿ç”¨Account.classä½œä¸ºå…±äº«çš„é”ï¼Œæˆ‘ä»¬å°±æ— éœ€åœ¨åˆ›å»ºAccountå¯¹è±¡æ—¶ä¼ å…¥äº†ï¼Œä»£ç æ›´ç®€å•ã€‚</p><pre><code>class Account {
  private int balance;
  // è½¬è´¦
  void transfer(Account target, int amt){
    synchronized(Account.class) {
      if (this.balance &gt; amt) {
        this.balance -= amt;
        target.balance += amt;
      }
    }
  } 
}
</code></pre><p>ä¸‹é¢è¿™å¹…å›¾å¾ˆç›´è§‚åœ°å±•ç¤ºäº†æˆ‘ä»¬æ˜¯å¦‚ä½•ä½¿ç”¨å…±äº«çš„é”Account.classæ¥ä¿æŠ¤ä¸åŒå¯¹è±¡çš„ä¸´ç•ŒåŒºçš„ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/52/7c/527cd65f747abac3f23390663748da7c.png" alt=""></p><h2>æ€»ç»“</h2><p>ç›¸ä¿¡ä½ çœ‹å®Œè¿™ç¯‡æ–‡ç« åï¼Œå¯¹å¦‚ä½•ä¿æŠ¤å¤šä¸ªèµ„æºå·²ç»å¾ˆæœ‰å¿ƒå¾—äº†ï¼Œå…³é”®æ˜¯è¦åˆ†æå¤šä¸ªèµ„æºä¹‹é—´çš„å…³ç³»ã€‚å¦‚æœèµ„æºä¹‹é—´æ²¡æœ‰å…³ç³»ï¼Œå¾ˆå¥½å¤„ç†ï¼Œæ¯ä¸ªèµ„æºä¸€æŠŠé”å°±å¯ä»¥äº†ã€‚å¦‚æœèµ„æºä¹‹é—´æœ‰å…³è”å…³ç³»ï¼Œå°±è¦é€‰æ‹©ä¸€ä¸ªç²’åº¦æ›´å¤§çš„é”ï¼Œè¿™ä¸ªé”åº”è¯¥èƒ½å¤Ÿè¦†ç›–æ‰€æœ‰ç›¸å…³çš„èµ„æºã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜è¦æ¢³ç†å‡ºæœ‰å“ªäº›è®¿é—®è·¯å¾„ï¼Œæ‰€æœ‰çš„è®¿é—®è·¯å¾„éƒ½è¦è®¾ç½®åˆé€‚çš„é”ï¼Œè¿™ä¸ªè¿‡ç¨‹å¯ä»¥ç±»æ¯”ä¸€ä¸‹é—¨ç¥¨ç®¡ç†ã€‚</p><p>æˆ‘ä»¬å†å¼•ç”³ä¸€ä¸‹ä¸Šé¢æåˆ°çš„å…³è”å…³ç³»ï¼Œå…³è”å…³ç³»å¦‚æœç”¨æ›´å…·ä½“ã€æ›´ä¸“ä¸šçš„è¯­è¨€æ¥æè¿°çš„è¯ï¼Œå…¶å®æ˜¯ä¸€ç§â€œåŸå­æ€§â€ç‰¹å¾ï¼Œåœ¨å‰é¢çš„æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬æåˆ°çš„åŸå­æ€§ï¼Œä¸»è¦æ˜¯é¢å‘CPUæŒ‡ä»¤çš„ï¼Œè½¬è´¦æ“ä½œçš„åŸå­æ€§åˆ™æ˜¯å±äºæ˜¯é¢å‘é«˜çº§è¯­è¨€çš„ï¼Œä¸è¿‡å®ƒä»¬æœ¬è´¨ä¸Šæ˜¯ä¸€æ ·çš„ã€‚</p><p><strong>â€œåŸå­æ€§â€çš„æœ¬è´¨</strong>æ˜¯ä»€ä¹ˆï¼Ÿå…¶å®ä¸æ˜¯ä¸å¯åˆ†å‰²ï¼Œä¸å¯åˆ†å‰²åªæ˜¯å¤–åœ¨è¡¨ç°ï¼Œå…¶æœ¬è´¨æ˜¯å¤šä¸ªèµ„æºé—´æœ‰ä¸€è‡´æ€§çš„è¦æ±‚ï¼Œ<strong>æ“ä½œçš„ä¸­é—´çŠ¶æ€å¯¹å¤–ä¸å¯è§</strong>ã€‚ä¾‹å¦‚ï¼Œåœ¨32ä½çš„æœºå™¨ä¸Šå†™longå‹å˜é‡æœ‰ä¸­é—´çŠ¶æ€ï¼ˆåªå†™äº†64ä½ä¸­çš„32ä½ï¼‰ï¼Œåœ¨é“¶è¡Œè½¬è´¦çš„æ“ä½œä¸­ä¹Ÿæœ‰ä¸­é—´çŠ¶æ€ï¼ˆè´¦æˆ·Aå‡å°‘äº†100ï¼Œè´¦æˆ·Bè¿˜æ²¡æ¥å¾—åŠå‘ç”Ÿå˜åŒ–ï¼‰ã€‚æ‰€ä»¥<strong>è§£å†³åŸå­æ€§é—®é¢˜ï¼Œæ˜¯è¦ä¿è¯ä¸­é—´çŠ¶æ€å¯¹å¤–ä¸å¯è§</strong>ã€‚</p><h2>è¯¾åæ€è€ƒ</h2><p>åœ¨ç¬¬ä¸€ä¸ªç¤ºä¾‹ç¨‹åºé‡Œï¼Œæˆ‘ä»¬ç”¨äº†ä¸¤æŠŠä¸åŒçš„é”æ¥åˆ†åˆ«ä¿æŠ¤è´¦æˆ·ä½™é¢ã€è´¦æˆ·å¯†ç ï¼Œåˆ›å»ºé”çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç”¨çš„æ˜¯ï¼š<code>private final Object xxxLock = new Object();</code>ï¼Œå¦‚æœè´¦æˆ·ä½™é¢ç”¨ this.balance ä½œä¸ºäº’æ–¥é”ï¼Œè´¦æˆ·å¯†ç ç”¨this.passwordä½œä¸ºäº’æ–¥é”ï¼Œä½ è§‰å¾—æ˜¯å¦å¯ä»¥å‘¢ï¼Ÿ</p><p>æ¬¢è¿åœ¨ç•™è¨€åŒºä¸æˆ‘åˆ†äº«ä½ çš„æƒ³æ³•ï¼Œä¹Ÿæ¬¢è¿ä½ åœ¨ç•™è¨€åŒºè®°å½•ä½ çš„æ€è€ƒè¿‡ç¨‹ã€‚æ„Ÿè°¢é˜…è¯»ï¼Œå¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œä¹Ÿæ¬¢è¿æŠŠå®ƒåˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ã€‚</p><h1>çŒœä½ å–œæ¬¢</h1><p><a href="https://time.geekbang.org/course/intro/156?utm_term=zeusRVDGT&amp;utm_source=app&amp;utm_medium=javabingfabiancheng&amp;utm_campaign=156-onsell&amp;utm_content=banner0301"><img src="https://static001.geekbang.org/resource/image/8e/93/8e1906fb8a24d5eb66539fa88ea56193.png" alt="unpreview"></a></p><h2>ç²¾é€‰ç•™è¨€ï¼š</h2>
        <ul>
        
<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            æ ‘æ£®  2019-03-07 09:25:12
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            æœ‰ä¸ªç–‘é—®ï¼Œä½¿ç”¨Account.classè·å¾—é”ï¼Œé‚£æ‰€æœ‰è½¬è´¦æ“ä½œä¸æ˜¯éƒ½æˆä¸²è¡Œäº†ï¼Œè¿™é‡Œå®è·µä¸­å¯è¡Œå—ï¼Ÿ [39èµ]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-03-07 20:03:26</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">ä¸å¯è¡Œï¼Œä¸‹ä¸€æœŸè®²ä¼˜åŒ–<br></div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            å°‘ä¸»æ±Ÿè¡«  2019-03-07 08:42:07
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            ç”¨this.balance å’Œthis.password éƒ½ä¸è¡Œã€‚åœ¨åŒä¸€ä¸ªè´¦æˆ·å¤šçº¿ç¨‹è®¿é—®æ—¶å€™ï¼ŒAçº¿ç¨‹å–æ¬¾è¿›è¡Œthis.balance-=amt;æ—¶å€™æ­¤æ—¶this.balanceå¯¹åº”çš„å€¼å·²ç»å‘ç”Ÿå˜æ¢ï¼Œçº¿ç¨‹Bå†æ¬¡å–æ¬¾æ—¶æ‹¿åˆ°çš„balanceå¯¹åº”çš„å€¼å¹¶ä¸æ˜¯Açº¿ç¨‹ä¸­çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸èƒ½æŠŠå¯å˜çš„å¯¹è±¡å½“æˆä¸€æŠŠé”ã€‚this.password è™½ç„¶è¯´æ˜¯Stringä¿®é¥°ä½†ä¹Ÿä¼šæ”¹å˜ï¼Œæ‰€ä»¥ä¹Ÿä¸è¡Œã€‚è€å¸ˆæ‰€è®²çš„ä¾‹å­ä¸­çš„ä¸¤ä¸ªObjectæ— è®ºå¤šæ¬¡è®¿é—®è¿‡ç¨‹ä¸­éƒ½æœªå‘ç”Ÿå˜åŒ–ï¼Ÿ<br>è¯·è€å¸ˆæŒ‡æ­£ã€‚ [34èµ]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-03-07 20:08:00</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">æ­£ç¡®ï¼Œä¸èƒ½ç”¨å¯å˜å¯¹è±¡åšé”<br></div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            senekis  2019-03-07 05:11:34
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            è§£å†³åŸå­æ€§é—®é¢˜ï¼Œæ˜¯è¦ä¿è¯ä¸­é—´çŠ¶æ€å¯¹å¤–ä¸è§<br><br>å¤ªç²¾è¾Ÿäº†ï¼ [23èµ]
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            å¤œç©ºä¸­æœ€äº®çš„æ˜Ÿï¼ˆåä»”ï¼‰  2019-03-07 16:20:42
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            æˆ‘æ˜¯ä¸€åæ™®é€šçš„è¿ç»´å·¥ç¨‹å¸ˆï¼Œæˆ‘æ˜¯çœŸçœ‹ä¸æ‡‚javaä»£ç ï¼Œæˆ‘æ˜¯æ¥å¬æ€æƒ³çš„ ã€‚ [9èµ]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-03-07 20:32:14</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">é‚£æˆ‘å°±æ”¾å¿ƒäº†<br></div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            è€æ¨åŒå¿—  2019-03-07 16:20:34
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            æ€è€ƒé¢˜ï¼š<br>æˆ‘è§‰å¾—ä¸èƒ½ç”¨balanceå’Œpasswordåšä¸ºé”å¯¹è±¡ã€‚è¿™ä¸¤ä¸ªå¯¹è±¡balanceæ˜¯Integerï¼Œpasswordæ˜¯Stringéƒ½æ˜¯ä¸å¯å˜å˜å¯¹è±¡ï¼Œä¸€ä½†å¯¹ä»–ä»¬è¿›è¡Œèµ‹å€¼å°±ä¼šå˜æˆæ–°çš„å¯¹è±¡ï¼ŒåŠ çš„é”å°±å¤±æ•ˆäº† [8èµ]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-03-07 20:32:54</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">æ˜¯çš„<br></div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            å¼ºå“¥  2019-03-07 12:48:00
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            æ–‡ç« é‡Œç¬¬äºŒä¸ªä¾‹å­æ ¹æœ¬æ— æ³•ç”¨åˆ°å®è·µä¸­ï¼Œé”åŠ›åº¦å¤ªå¤§ï¼Œå¯ä»¥ç”¨ä¹è§‚å…³é”è§£å†³ï¼Œå¦å¤–åˆ†å¸ƒå¼çš„æƒ…å†µä¸‹ï¼Œåº”è¯¥å¦‚ä½•åˆ†æä¹Ÿåº”è¯¥è®²è®²ï¼Ÿè‡³äºåŸå­æ€§å…¶å®è·Ÿæ•°æ®åº“çš„åŸå­æ€§è¿˜æ˜¯æœ‰å·®å¼‚çš„ï¼Œä¾‹å¦‚è™šæ‹Ÿæœºå¼‚å¸¸é€€å‡ºæ—¶ï¼Œsynchinzedä¹Ÿæ— æ³•æ“ä½œåŸå­æ“ä½œçš„ã€‚ [7èµ]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-03-07 19:47:26</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">åˆ†å¸ƒå¼çš„ä¸è®²äº†ï¼Œåˆ†æ”¯å¤ªå¤šä¸å¥½ã€‚ä¸‹ä¸€æœŸä¼šè®²ä¼˜åŒ–<br></div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            yuc  2019-03-09 11:36:12
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            æ˜¯å¦å¯ä»¥åœ¨Accountä¸­æ·»åŠ ä¸€ä¸ªé™æ€objectï¼Œé€šè¿‡é”è¿™ä¸ªobjectæ¥å®ç°ä¸€ä¸ªé”ä¿æŠ¤å¤šä¸ªèµ„æºï¼Œå¦‚ä¸‹ï¼š<br>class Account {<br>  private static Object lock = new Object();<br>  private int balance;<br>  &#47;&#47; è½¬è´¦<br>  void transfer(Account target, int amt){<br>    synchronized(lock) {<br>      if (this.balance &gt; amt) {<br>        this.balance -= amt;<br>        target.balance += amt;<br>      }<br>    }<br>  } <br>}<br> [6èµ]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-03-09 13:57:22</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">è¿™ç§æ–¹å¼æ¯”é”classæ›´å®‰å…¨ï¼Œå› ä¸ºè¿™ä¸ªç¼ºæ˜¯ç§æœ‰çš„ã€‚æœ‰äº›æœ€ä½³å®è·µè¦æ±‚å¿…é¡»è¿™æ ·åšã€‚ğŸ‘</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            Zach_  2019-03-07 11:57:33
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            ç‹è€å¸ˆï¼Œ æ‚¨åœ¨ç¬¬äºŒè®²ä¸­è´´å‡ºçš„è‹±æ–‡é“¾æ¥çš„åœ°å€å¾ˆæ£’ï¼Œçœ‹ç€æ‚¨å†™è¿‡çš„ä¸“æ ï¼Œå†å»çœ‹å®ƒï¼Œæœ‰ç§æç„¶å¤§æ‚Ÿåœ°æ„Ÿè§‰~ï¼  æ³è¯·æ‚¨è¿˜æ˜¯åœ¨åç»­åœ°ä¸“æ é‡Œï¼Œç»§ç»­ä¿æŒè¿™ç§æ­»ç£•å¹¶å‘åŸºç¡€åœ°åŸæ±åŸå‘³åœ°é“¾æ¥å•Š~ï¼  æ‚¨åœ°ä¸“æ æ˜¯æ‚¨å¤šå¹´åœ°ç†è§£ä¸å®æˆ˜çš„è¥å…»ï¼ŒåŠ ä¸Šæ‚¨äº²è‡ªåœ°æœ—è¯»ï¼Œå½“ç„¶ä¹Ÿæ˜¯åŸæ±åŸå‘³ã€‚ä½†æ˜¯æˆ‘çš„æ„æ€æ˜¯ï¼Œæˆ‘ä»¬åº”è¯¥æœ‰ä¸€æ‰¹äººå¾ˆå°‘çœ‹è‹±æ–‡ç±»çš„æ–‡æ¡£ï¼Œæ‰€ä»¥æ‰ä¼šæœ‰è¿™ç§æ³è¯·~ï¼   è°¢è°¢è€å¸ˆ~! [5èµ]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-03-07 19:46:09</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">æ„Ÿè°¢ç››èµï¼Œæˆ‘ä¼šç»§ç»­ä¿æŒçš„<br></div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            å³°  2019-03-07 08:11:40
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            æ€è€ƒé¢˜ï¼Œæˆ‘çš„ç­”æ¡ˆæ˜¯ä¸è¡Œï¼Œå› ä¸ºå¯¹è±¡å¯å˜ï¼Œæ‰€ä»¥å¯¼è‡´åŠ é”å¯¹è±¡ä¸ä¸€æ ·ã€‚<br><br>ç„¶åæ„Ÿè§‰åŠ é”çš„æ‰€æœ‰ç”¨æˆ·ç”¨åŒä¸€ä¸ªé”çš„ç²’åº¦å¤ªå¤§äº†ï¼Œä½†å¦‚æœæ¯æ¬¡è½¬è´¦æ“ä½œï¼Œæ˜¯ä¸æ˜¯å¯ä»¥åŒæ—¶åŠ ä¸¤ä¸ªç”¨æˆ·çš„é”ï¼Œå¦‚æœæœ‰å…ˆåé¡ºåºåˆå¯èƒ½æœ‰æ­»é”é—®é¢˜ã€‚ [4èµ]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-03-07 19:27:21</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">ä¸‹ä¸€æœŸä¼šè®²è¿™ä¸ª<br></div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            åˆ«çš±çœ‰  2019-03-13 23:54:52
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            è€å¸ˆï¼Œå¾ˆæ„Ÿè°¢æœ‰è¿™ä¸ªä¸“æ ï¼Œè®©æˆ‘èƒ½å¤Ÿæ›´åŠ ç³»ç»Ÿçš„å­¦ä¹ å¹¶å‘çŸ¥è¯†ã€‚<br>å¯¹äºæ€è€ƒé¢˜,ä¹‹æ‰€ä»¥ä¸å¯è¡Œæ˜¯å› ä¸ºæ¯æ¬¡ä¿®æ”¹balanceå’Œpasswordæ—¶éƒ½ä¼šä½¿é”å‘ç”Ÿå˜åŒ–ã€‚<br>-----------------------------------------------------------------------<br>ä»¥ä¸‹åªæ˜¯æˆ‘çš„çŒœæƒ³<br>æ¯”å¦‚æœ‰çº¿ç¨‹Aã€Bã€C <br>çº¿ç¨‹Aé¦–å…ˆæ‹¿åˆ°balance1é”ï¼Œçº¿ç¨‹Bè¿™ä¸ªæ—¶å€™ä¹Ÿè¿‡æ¥ï¼Œå‘ç°é”è¢«æ‹¿èµ°äº†ï¼Œçº¿ç¨‹Bè¢«æ”¾å…¥ä¸€ä¸ªåœ°æ–¹è¿›è¡Œç­‰å¾…ã€‚<br>å½“Aä¿®æ”¹æ‰å˜é‡balanceçš„å€¼åï¼Œé”ç”±balance1å˜ä¸ºbalance2.<br>çº¿ç¨‹Bä¹Ÿæ‹¿åˆ°é‚£ä¸ªbalance1é”ï¼Œè¿™æ—¶å€™åˆšå¥½æœ‰çº¿ç¨‹Cè¿‡æ¥ï¼Œæ‹¿åˆ°äº†balance2é”ã€‚<br>ç”±äºBå’ŒCæŒæœ‰çš„é”ä¸åŒï¼Œæ‰€ä»¥å¯ä»¥åŒæ—¶æ‰§è¡Œè¿™ä¸ªæ–¹æ³•æ¥ä¿®æ”¹balanceçš„å€¼,è¿™ä¸ªæ—¶å€™å°±æœ‰å¯èƒ½æ˜¯çº¿ç¨‹Bä¿®æ”¹çš„å€¼ä¼šè¦†ç›–æ‰çº¿ç¨‹Cä¿®æ”¹çš„å€¼?<br>-----------------------------------------------------------------------<br>ä¸çŸ¥é“åˆ°åº•æ˜¯ä¸æ˜¯è¿™æ ·?è€å¸ˆå¯ä»¥è¯¦ç»†è®²ä¸‹è¿™ä¸ªè¿‡ç¨‹å—?è°¢è°¢ [3èµ]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-03-14 12:14:09</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">ä½ åˆ†æçš„å¾ˆä»”ç»†äº†ï¼Œå°±æ˜¯è¿™æ ·çš„ï¼Œbcé”çš„ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚ä¸èƒ½ä¿è¯äº’æ–¥æ€§<br></div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            æ°´å¦‚å¤©  2019-03-07 22:48:57
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            ä»¥å‰ç¢°åˆ°ä¸€ä¸ªå‘ï¼Œçº¿ç¨‹ä¸Šä¸‹æ–‡çš„ç±»åŠ è½½å™¨æ”¹å˜äº†ï¼Œå¯¼è‡´å‰ååŠ è½½çš„ç±»ä¸ä¸€è‡´ [3èµ]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-03-08 12:16:02</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">osgiï¼Ÿ</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            walkingonair  2019-03-07 20:22:48
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            ä½¿ç”¨Account.classè·å¾—é”æœ‰å¾ˆæ˜æ˜¾çš„æ€§èƒ½é—®é¢˜ï¼Œè€Œå¦‚ä½•è§£å†³è¿™ä¸ªæ€§èƒ½é—®é¢˜æ°æ°æ˜¯æˆ‘æƒ³çŸ¥é“çš„ã€‚æˆ‘çš„ä¸€ä¸ªæƒ³æ³•æ˜¯åˆ©ç”¨Stringå¯¹è±¡çš„internæ–¹æ³•ç”Ÿæˆè½¬è´¦ç›¸å…³çš„å­—ç¬¦ä¸²ï¼Œåˆ©ç”¨è¿™ä¸ªå­—ç¬¦ä¸²ä½œä¸ºé”ï¼Œè¿™ä¸ªæ–¹æ¡ˆä¸çŸ¥é“åœ¨å®è·µä¸­æ˜¯å¦å¯è¡Œï¼Ÿ<br>å¦å¤–ï¼Œç‹‚æˆ˜ä¿„æ´›ä¼ŠåŒå­¦æå‡ºçš„é”ä¸¤ä¸ªå¯¹è±¡çš„ç¤ºä¾‹ï¼Œæˆ‘çœ‹ç€åƒæ˜¯ç»å…¸çš„æ­»é”æ¡ˆä¾‹ï¼Œå› åŠ é”é¡ºåºä¸ä¸€è‡´å¯¼è‡´çš„æ­»é”ï¼Œå½“A-&gt;Bï¼ŒAç­‰å¾…Bçš„é”ï¼Œè€Œå½“B-&gt;Aï¼ŒBç­‰å¾…Açš„é”ï¼Œäº§ç”Ÿæ­»é”ï¼Œä¸çŸ¥ç†è§£çš„æ˜¯å¦æœ‰é—®é¢˜ï¼Œæ¬¢è¿è€å¸ˆå’Œå„ä½åŒå­¦æŒ‡æ•™ã€‚ [3èµ]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-03-07 21:58:50</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">ä¸‹ä¸€æœŸä»‹ç»ä¼˜åŒ–</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            å¿ è‰¾ä¸€ç”Ÿ  2019-03-07 19:50:59
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            è¿™ä¸¤æŠŠé”æ˜¯ä¼šå˜çš„ï¼Œæ‰€ä»¥æ— æ³•ä¿è¯äº’æ–¥æ€§ã€‚åœ¨ç¬¬ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œå®Œä¹‹åï¼Œthis.balanceä¸this.passwordè¿™ä¸¤ä¸ªå¯¹è±¡é”éƒ½ä¸ç¬¬ä¸€ä¸ªçº¿ç¨‹çš„å¯¹è±¡é”æ˜¯ä¸ä¸€æ ·çš„ã€‚ æ‰€ä»¥æ˜¯ä¸æ­£ç¡®çš„ã€‚<br> [3èµ]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-03-07 20:33:21</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">å›ç­”æ­£ç¡®<br></div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            zhaozp  2019-03-07 20:27:16
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            å¯å˜å¯¹è±¡ä¸èƒ½ä½œä¸ºé” [2èµ]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-03-07 21:59:11</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">æ€»ç»“çš„åˆ°ä½</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            ç‹‚æˆ˜ä¿„æ´›ä¼Š  2019-03-07 16:27:49
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            é¦–å…ˆï¼Œå¯¹äºæ–‡ä¸­çš„è¯¾åæ€è€ƒï¼Œè¿™ä¸ªé—®é¢˜è‚¯å®šæ˜¯ä¸è¡Œçš„ã€‚<br>synchronizedåŠ é”çš„å¯¹è±¡æ˜¯æ ¹æ®åœ°å€æ¥çš„ï¼Œåªè¦åœ°å€å˜äº†ï¼Œé”ä¹Ÿå°±å˜äº†ã€‚<br>å½“balanceæˆ–è€…passwordå‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼ˆåœ°å€å˜åŒ–ï¼‰ï¼Œå…¶ä»–çº¿ç¨‹è¿˜æ˜¯èƒ½è·å¾—é”ï¼Œç„¶åæ‰§è¡Œè½¬è´¦çš„æ“ä½œã€‚<br>æ‰€ä»¥è¿™é‡ŒåŠ é”çš„å¯¹è±¡ä¸€å®šè¦æ˜¯åœ°å€ä¸èƒ½å˜çš„èµ„æºï¼Œä¾‹å¦‚æ–‡ä¸­çš„Account.classè¿™ä¸ªå¯¹è±¡åœ°å€å°±ä¸ä¼šå˜åŒ–ï¼Œæ‰€ä»¥å¯ä»¥ç”¨æ¥ä½œä¸ºé”ã€‚<br>ä½†æ˜¯é—®é¢˜æ¥äº†ï¼Œå¦‚æœç”¨Account.classä½œä¸ºåŠ é”å¯¹è±¡çš„è¯ï¼Œé‚£æ‰€æœ‰çš„è½¬è´¦åŠŸèƒ½å°†ä¼šæ˜¯ä¸²è¡Œã€‚å®é™…ä¸Š4ä¸ªä¸åŒè´¦æˆ·ä¹‹é—´çš„è½¬è´¦æ˜¯å¯ä»¥å¹¶è¡Œæ‰§è¡Œçš„ï¼Œä¾‹å¦‚Aç»™Bè½¬è´¦ï¼ŒCç»™Dè½¬è´¦ï¼Œè¿™ä¸¤ä¸ªåŠ¨ä½œæ˜¯å¯ä»¥ä¸€èµ·æ‰§è¡Œçš„ã€‚<br>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘å¯¹è½¬è´¦ä»£ç åšäº†äº›è°ƒæ•´ï¼Œç›®çš„æ˜¯ä¸ºäº†è®©ä¸åŒè´¦æˆ·ä¹‹é—´çš„è½¬è´¦å¯ä»¥å¹¶å‘è¿è¡Œã€‚ä¸‹é¢æ˜¯æˆ‘å¯¹è½¬è´¦æ”¹è¿›åçš„ä»£ç ï¼š<br>	  &#47;&#47; è½¬è´¦<br>	   void transfer( Account target, int amt){<br>		   synchronized(this) {<br>			   synchronized (target) {<br>				    if (this.balance &gt; amt) {<br>					      this.balance -= amt;<br>					      target.balance += amt;<br>					}<br>			   }<br>		   }<br>	  } <br><br>é¦–å…ˆè¿™æ®µä»£ç æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚<br><br>ä½†æ˜¯æˆ‘å®é™…æµ‹è¯•ä¸‹æ¥æ€§èƒ½å´åè€Œä¸å¦‚ç›´æ¥å¯¹Account.classåŠ é”é«˜ï¼Œè¯·é—®è€å¸ˆè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ [2èµ]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-03-07 20:38:20</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">è½¬è´¦é‡Œé¢sleepä¸€æ®µæ—¶é—´å°±æœ‰æ•ˆæœäº†<br></div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            zyl  2019-03-07 13:34:48
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            è¯·é—®è¿™ä¸ªç”»å›¾è½¯ä»¶æ˜¯ä»€ä¹ˆï¼Ÿè°¢è°¢ [2èµ]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-03-09 14:28:48</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">æˆ‘å·²ç»ç¡®è®¤è¿‡äº†ï¼Œæ˜¯PPT</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            Nevermore  2019-03-07 09:48:52
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            Integer i = 6 --&gt;Integer i = 7 ï¼Œè¿™ä¸ªè¿‡ç¨‹ç»å†äº†å¼•ç”¨é‡æ–°æŒ‡å‘çš„é—®é¢˜ ï¼Œå°±ç›¸å½“äºnew Integer(6) --&gt;  new Integer(7)ï¼Œä½†æ˜¯å¯¹äºIntegerå’Œstring ï¼Œjvmå¯¹ä»–ä»¬éƒ½æœ‰ä¼˜åŒ–å¤„ç†ï¼Œintegeræ˜¯-127-127å†…çš„æ•°å€¼éƒ½ä¼šæ”¾å…¥ç¼“å­˜ï¼Œè€Œå¯¹äºæœ¬ä¾‹å­çš„stringä¹Ÿä¼šæ”¾è¿›å¸¸é‡æ± ï¼Œæˆ‘çš„ç†è§£æ˜¯ï¼Œå‡å¦‚A,Bçº¿ç¨‹åŒæ—¶ä¿®æ”¹ä½™é¢ï¼Œå½“Aä¿®æ”¹ä½™é¢æˆåŠŸä¹‹å‰ï¼ŒA,Bçº¿ç¨‹çœ‹åˆ°çš„éƒ½æ˜¯åŒä¸€ä¸ªä½™é¢ï¼Œä¹Ÿå°±æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œå½“Aä¿®æ”¹æˆåŠŸåï¼Œæ”¹å˜äº†å¯¹è±¡ï¼ŒåŸå…ˆçš„é”å°±ä¸æ˜¯åŸæ¥çš„é”äº†ï¼Œå¯¹äºçº¿ç¨‹Aæ¥è¯´ï¼Œå°±ç›¸å½“äºé‡Šæ”¾äº†é”ï¼Œä½†æ˜¯ï¼Œå½“ä½™é¢çš„èŒƒå›´è¶…è¿‡äº†127ä¹‹åï¼Œä»¥ä¸Šçš„é€»è¾‘å°±å¤±æ•ˆäº†ã€‚è€Œå¯†ç çš„ä¿®æ”¹ä¸ä¼šå­˜åœ¨è¿™ä¸ªé—®é¢˜ï¼Œèƒ½å®Œå…¨çš„é”ä½ã€‚<br><br>ä»¥ä¸Šæ˜¯æˆ‘çš„ç†è§£ï¼Œæœ›è€å¸ˆæŒ‡æ­£ï¼ [2èµ]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-03-07 19:59:21</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">å¯†ç çš„ä¿®æ”¹ä¹Ÿé”ä¸ä½</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            è½å¶î„™  2019-03-07 09:06:17
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            æ€è€ƒé¢˜:å—ä¿æŠ¤èµ„æºä½œä¸ºé”ä¿æŠ¤è‡ªå·±ï¼Œè·Ÿæ²¡åŠ é”ä¸€æ ·ã€‚ä¿®æ”¹é‡‘é¢åï¼Œé”å¯¹è±¡éƒ½å˜äº†ï¼ŒåŠ é”ä¸æˆåŠŸ [2èµ]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-03-07 19:22:21</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">æ˜¯çš„<br></div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            wang  2019-03-07 08:48:21
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            ä¸å¯ä»¥ã€‚å› ä¸ºbalanceä¸ºintegerå¯¹è±¡ï¼Œå½“å€¼è¢«ä¿®æ”¹ç›¸å½“äºæ¢é”ï¼Œè¿˜æœ‰integeræœ‰ç¼“å­˜-128åˆ°127ï¼Œç›¸å½“äºåŒä¸€ä¸ªå¯¹è±¡ã€‚ [2èµ]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-03-07 19:09:29</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">æ·±åˆ»ï¼ğŸ‘<br></div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            linqw  2019-03-09 22:06:00
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            è€å¸ˆï¼Œæœ‰ä¸ªç–‘é—®ï¼Œé”æ˜¯ä¸ºäº†ä¿è¯åœ¨å¤šä¸ªçº¿ç¨‹æ“ä½œï¼Œæ¯ä¸ªçº¿ç¨‹çš„æ“ä½œä¹‹å‰å¤šèƒ½å…ˆè¯»å–åˆ°å…¶ä½™çº¿ç¨‹çš„æ“ä½œç»“æœï¼Œä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ï¼Œé˜²æ­¢æ•°æ®è¢«è¦†ç›–ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆé”ä¸èƒ½ä½¿ç”¨å¯å˜çš„å¯¹è±¡ä½œä¸ºé”ï¼ŒIntegerå’ŒStringéƒ½æ˜¯ä¸å¯å˜å¯¹è±¡ï¼Œæ“ä½œéƒ½ä¼šç”Ÿæˆæ–°å¯¹è±¡ï¼Œä½†æ˜¯è¿™ä¸ªä¼šå½±å“åˆ°å¤šä¸ªçº¿ç¨‹å¯¹æ•°æ®çš„æ“ä½œç»“æœä¹ˆï¼Ÿæ¯”å¦‚å–æ¬¾ï¼Œè™½ç„¶å–æ¬¾å®Œé”å¯¹è±¡æ”¹å˜ï¼Œä½†æ˜¯åœ¨å¹¶å‘çš„æ—¶å€™ï¼Œä¸ç®¡æ˜¯å…¶ä»–çº¿ç¨‹åœ¨å‰ä¸€ä¸ªçº¿ç¨‹å–æ¬¾å‰è·å–åˆ°çš„é”è¿˜æ˜¯å–æ¬¾åè·å–åˆ°çš„é”ï¼Œå¯¹æ•°æ®éƒ½ä¸ä¼šè¦†ç›–å‘€ï¼Ÿè€å¸ˆå¸®å¿™è§£ç­”ä¸‹å“¦ [1èµ]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-03-09 22:56:23</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">å¤šæŠŠé”ä¿æŠ¤ä¸€ä¸ªèµ„æºï¼Œèµ·ä¸åˆ°äº’æ–¥ä½œç”¨ï¼Œå°±å¯èƒ½åŒæ—¶å–æ¬¾ï¼Œè¿™æ ·æ•°æ®å°±è¢«è¦†ç›–äº†ã€‚</div>
</div>
            
    </div>
</li>
            </ul>
</div>
</body>
</html>